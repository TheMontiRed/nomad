var KK=Object.defineProperty,YK=Object.defineProperties,JK=Object.getOwnPropertyDescriptors,Zx=Object.getOwnPropertySymbols,ZK=Object.prototype.hasOwnProperty,XK=Object.prototype.propertyIsEnumerable,Xx=(St,Ue,_t)=>Ue in St?KK(St,Ue,{enumerable:!0,configurable:!0,writable:!0,value:_t}):St[Ue]=_t,eP=(St,Ue)=>{for(var _t in Ue||(Ue={}))ZK.call(Ue,_t)&&Xx(St,_t,Ue[_t]);if(Zx)for(var _t of Zx(Ue))XK.call(Ue,_t)&&Xx(St,_t,Ue[_t]);return St},tP=(St,Ue)=>YK(St,JK(Ue));(self.webpackChunknomad=self.webpackChunknomad||[]).push([[179],{255:St=>{function Ue(_t){return Promise.resolve().then(()=>{var br=new Error("Cannot find module '"+_t+"'");throw br.code="MODULE_NOT_FOUND",br})}Ue.keys=()=>[],Ue.resolve=Ue,Ue.id=255,St.exports=Ue},11:(St,Ue,_t)=>{"use strict";function br(t){return"function"==typeof t}let of=!1;const Sn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else of&&console.log("RxJS: Back to a better error behavior. Thank you. <3");of=t},get useDeprecatedSynchronousErrorHandling(){return of}};function Ns(t){setTimeout(()=>{throw t},0)}const xu={closed:!0,next(t){},error(t){if(Sn.useDeprecatedSynchronousErrorHandling)throw t;Ns(t)},complete(){}},Pu=Array.isArray||(t=>t&&"number"==typeof t.length);function af(t){return null!==t&&"object"==typeof t}const Ou=(()=>{function t(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t})();class ke{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof ke)n.remove(this);else if(null!==n)for(let o=0;o<n.length;++o)n[o].remove(this);if(br(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(o){e=o instanceof Ou?tE(o.errors):[o]}}if(Pu(s)){let o=-1,a=s.length;for(;++o<a;){const l=s[o];if(af(l))try{l.unsubscribe()}catch(u){e=e||[],u instanceof Ou?e=e.concat(tE(u.errors)):e.push(u)}}}if(e)throw new Ou(e)}add(e){let n=e;if(!e)return ke.EMPTY;switch(typeof e){case"function":n=new ke(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof ke)){const s=n;n=new ke,n._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof ke){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(e){const n=this._subscriptions;if(n){const r=n.indexOf(e);-1!==r&&n.splice(r,1)}}}var t;function tE(t){return t.reduce((e,n)=>e.concat(n instanceof Ou?n.errors:n),[])}ke.EMPTY=((t=new ke).closed=!0,t);const ku="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Re extends ke{constructor(e,n,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=xu;break;case 1:if(!e){this.destination=xu;break}if("object"==typeof e){e instanceof Re?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new nE(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new nE(this,e,n,r)}}[ku](){return this}static create(e,n,r){const i=new Re(e,n,r);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class nE extends Re{constructor(e,n,r,i){super(),this._parentSubscriber=e;let s,o=this;br(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==xu&&(o=Object.create(n),br(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=r,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:n}=this;Sn.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:n}=this,{useDeprecatedSynchronousErrorHandling:r}=Sn;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=e,n.syncErrorThrown=!0):Ns(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Ns(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const n=()=>this._complete.call(this._context);Sn.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,n){try{e.call(this._context,n)}catch(r){if(this.unsubscribe(),Sn.useDeprecatedSynchronousErrorHandling)throw r;Ns(r)}}__tryOrSetError(e,n,r){if(!Sn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(i){return Sn.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(Ns(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const ua="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fu(t){return t}let Ie=(()=>{class t{constructor(n){this._isScalar=!1,n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const{operator:s}=this,o=function(t,e,n){if(t){if(t instanceof Re)return t;if(t[ku])return t[ku]()}return t||e||n?new Re(t,e,n):new Re(xu)}(n,r,i);if(o.add(s?s.call(o,this.source):this.source||Sn.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Sn.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){Sn.useDeprecatedSynchronousErrorHandling&&(n.syncErrorThrown=!0,n.syncErrorValue=r),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof Re?n:null}return!0}(n)?n.error(r):console.warn(r)}}forEach(n,r){return new(r=iE(r))((i,s)=>{let o;o=this.subscribe(a=>{try{n(a)}catch(l){s(l),o&&o.unsubscribe()}},s,i)})}_subscribe(n){const{source:r}=this;return r&&r.subscribe(n)}[ua](){return this}pipe(...n){return 0===n.length?this:function(t){return 0===t.length?Fu:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=iE(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function iE(t){if(t||(t=Sn.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Ms=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class iP extends ke{constructor(e,n){super(),this.subject=e,this.subscriber=n,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,n=e.observers;if(this.subject=null,!n||0===n.length||e.isStopped||e.closed)return;const r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}class sE extends Re{constructor(e){super(e),this.destination=e}}let wr=(()=>{class t extends Ie{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ku](){return new sE(this)}lift(n){const r=new oE(this,this);return r.operator=n,r}next(n){if(this.closed)throw new Ms;if(!this.isStopped){const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].next(n)}}error(n){if(this.closed)throw new Ms;this.hasError=!0,this.thrownError=n,this.isStopped=!0;const{observers:r}=this,i=r.length,s=r.slice();for(let o=0;o<i;o++)s[o].error(n);this.observers.length=0}complete(){if(this.closed)throw new Ms;this.isStopped=!0;const{observers:n}=this,r=n.length,i=n.slice();for(let s=0;s<r;s++)i[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(n){if(this.closed)throw new Ms;return super._trySubscribe(n)}_subscribe(n){if(this.closed)throw new Ms;return this.hasError?(n.error(this.thrownError),ke.EMPTY):this.isStopped?(n.complete(),ke.EMPTY):(this.observers.push(n),new iP(this,n))}asObservable(){const n=new Ie;return n.source=this,n}}return t.create=(e,n)=>new oE(e,n),t})();class oE extends wr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){const{destination:n}=this;n&&n.next&&n.next(e)}error(e){const{destination:n}=this;n&&n.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:n}=this;return n?this.source.subscribe(e):ke.EMPTY}}function Lu(t){return t&&"function"==typeof t.schedule}function pe(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new sP(t,e))}}class sP{constructor(e,n){this.project=e,this.thisArg=n}call(e,n){return n.subscribe(new oP(e,this.project,this.thisArg))}}class oP extends Re{constructor(e,n,r){super(e),this.project=n,this.count=0,this.thisArg=r||this}_next(e){let n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const aE=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()},Vu="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",lE=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function uE(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const lf=t=>{if(t&&"function"==typeof t[ua])return(t=>e=>{const n=t[ua]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(lE(t))return aE(t);if(uE(t))return(t=>e=>(t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ns),e))(t);if(t&&"function"==typeof t[Vu])return(t=>e=>{const n=t[Vu]();for(;;){let r;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const n=`You provided ${af(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(n)}};function uf(t,e){return new Ie(n=>{const r=new ke;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function dt(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[ua]}(t))return function(t,e){return new Ie(n=>{const r=new ke;return r.add(e.schedule(()=>{const i=t[ua]();r.add(i.subscribe({next(s){r.add(e.schedule(()=>n.next(s)))},error(s){r.add(e.schedule(()=>n.error(s)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(uE(t))return function(t,e){return new Ie(n=>{const r=new ke;return r.add(e.schedule(()=>t.then(i=>{r.add(e.schedule(()=>{n.next(i),r.add(e.schedule(()=>n.complete()))}))},i=>{r.add(e.schedule(()=>n.error(i)))}))),r})}(t,e);if(lE(t))return uf(t,e);if(function(t){return t&&"function"==typeof t[Vu]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ie(n=>{const r=new ke;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[Vu](),r.add(e.schedule(function(){if(n.closed)return;let s,o;try{const a=i.next();s=a.value,o=a.done}catch(a){return void n.error(a)}o?n.complete():(n.next(s),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof Ie?t:new Ie(lf(t))}class cf extends Re{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class df extends Re{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function hf(t,e){if(e.closed)return;if(t instanceof Ie)return t.subscribe(e);let n;try{n=lf(t)(e)}catch(r){e.error(r)}return n}function ht(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(ht((i,s)=>dt(t(i,s)).pipe(pe((o,a)=>e(i,o,s,a))),n)):("number"==typeof e&&(n=e),r=>r.lift(new _P(t,n)))}class _P{constructor(e,n=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=n}call(e,n){return n.subscribe(new yP(e,this.project,this.concurrent))}}class yP extends df{constructor(e,n,r=Number.POSITIVE_INFINITY){super(e),this.project=n,this.concurrent=r,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(n)}_innerSub(e){const n=new cf(this),r=this.destination;r.add(n);const i=hf(e,n);i!==n&&r.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function ca(t=Number.POSITIVE_INFINITY){return ht(Fu,t)}function ff(t,e){return e?uf(t,e):new Ie(aE(t))}function pf(){return function(e){return e.lift(new CP(e))}}class CP{constructor(e){this.connectable=e}call(e,n){const{connectable:r}=this;r._refCount++;const i=new EP(e,r),s=n.subscribe(i);return i.closed||(i.connection=r.connect()),s}}class EP extends Re{constructor(e,n){super(e),this.connectable=n}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const n=e._refCount;if(n<=0)return void(this.connection=null);if(e._refCount=n-1,n>1)return void(this.connection=null);const{connection:r}=this,i=e._connection;this.connection=null,i&&(!r||i===r)&&i.unsubscribe()}}class cE extends Ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new ke,e.add(this.source.subscribe(new wP(this.getSubject(),this))),e.closed&&(this._connection=null,e=ke.EMPTY)),e}refCount(){return pf()(this)}}const bP=(()=>{const t=cE.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class wP extends sE{constructor(e,n){super(e),this.connectable=n}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const n=e._connection;e._refCount=0,e._subject=null,e._connection=null,n&&n.unsubscribe()}}}function SP(){return new wr}function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function gf(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function K(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(K).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function mf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const RP=ae({__forward_ref__:ae});function ve(t){return t.__forward_ref__=ve,t.toString=function(){return K(this())},t}function x(t){return dE(t)?t():t}function dE(t){return"function"==typeof t&&t.hasOwnProperty(RP)&&t.__forward_ref__===ve}class zr extends Error{constructor(e,n){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(e,n)),this.code=e}}function j(t){return"string"==typeof t?t:null==t?"":String(t)}function At(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():j(t)}function Uu(t,e){const n=e?` in ${e}`:"";throw new zr("201",`No provider for ${At(t)} found${n}`)}function Qt(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ir(t){return hE(t,Bu)||hE(t,pE)}function hE(t,e){return t.hasOwnProperty(e)?t[e]:null}function fE(t){return t&&(t.hasOwnProperty(yf)||t.hasOwnProperty(FP))?t[yf]:null}const Bu=ae({\u0275prov:ae}),yf=ae({\u0275inj:ae}),pE=ae({ngInjectableDef:ae}),FP=ae({ngInjectorDef:ae});var P=(()=>((P=P||{})[P.Default=0]="Default",P[P.Host=1]="Host",P[P.Self=2]="Self",P[P.SkipSelf=4]="SkipSelf",P[P.Optional=8]="Optional",P))();let vf;function Qr(t){const e=vf;return vf=t,e}function gE(t,e,n){const r=Ir(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==e?e:void Uu(K(t),"Injector")}function Kr(t){return{toString:t}.toString()}var cn=(()=>((cn=cn||{})[cn.OnPush=0]="OnPush",cn[cn.Default=1]="Default",cn))(),Ge=(()=>((Ge=Ge||{})[Ge.Emulated=0]="Emulated",Ge[Ge.None=2]="None",Ge[Ge.ShadowDom=3]="ShadowDom",Ge))();const VP="undefined"!=typeof globalThis&&globalThis,UP="undefined"!=typeof window&&window,BP="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,le=VP||"undefined"!=typeof global&&global||UP||BP,xs={},fe=[],ju=ae({\u0275cmp:ae}),Cf=ae({\u0275dir:ae}),Ef=ae({\u0275pipe:ae}),mE=ae({\u0275mod:ae}),jP=ae({\u0275loc:ae}),Tr=ae({\u0275fac:ae}),da=ae({__NG_ELEMENT_ID__:ae});let HP=0;function Rt(t){return Kr(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||fe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ge.Emulated,id:"c",styles:t.styles||fe,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=HP++,r.inputs=CE(t.inputs,n),r.outputs=CE(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(_E):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(yE):null,r})}function _E(t){return yt(t)||function(t){return t[Cf]||null}(t)}function yE(t){return function(t){return t[Ef]||null}(t)}const vE={};function An(t){return Kr(()=>{const e={type:t.type,bootstrap:t.bootstrap||fe,declarations:t.declarations||fe,imports:t.imports||fe,exports:t.exports||fe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(vE[t.id]=t.type),e})}function CE(t,e){if(null==t)return xs;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const k=Rt;function yt(t){return t[ju]||null}function dn(t,e){const n=t[mE]||null;if(!n&&!0===e)throw new Error(`Type ${K(t)} does not have '\u0275mod' property.`);return n}const G=11;function Jn(t){return Array.isArray(t)&&"object"==typeof t[1]}function Nn(t){return Array.isArray(t)&&!0===t[1]}function Df(t){return 0!=(8&t.flags)}function Gu(t){return 2==(2&t.flags)}function qu(t){return 1==(1&t.flags)}function Mn(t){return null!==t.template}function KP(t){return 0!=(512&t[2])}function Vi(t,e){return t.hasOwnProperty(Tr)?t[Tr]:null}class bE{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ct(){return wE}function wE(t){return t.type.prototype.ngOnChanges&&(t.setInput=XP),ZP}function ZP(){const t=IE(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===xs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function XP(t,e,n,r){const i=IE(t)||function(t,e){return t[DE]=e}(t,{previous:xs,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],l=o[a];s[a]=new bE(l&&l.currentValue,e,o===xs),t[r]=e}Ct.ngInherit=!0;const DE="__ngSimpleChanges__";function IE(t){return t[DE]||null}let Sf;function Le(t){return!!t.listen}const AE={createRenderer:(t,e)=>void 0!==Sf?Sf:"undefined"!=typeof document?document:void 0};function je(t){for(;Array.isArray(t);)t=t[0];return t}function zu(t,e){return je(e[t])}function Jt(t,e){return je(e[t.index])}function Rf(t,e){return t.data[e]}function Zt(t,e){const n=e[t];return Jn(n)?n:n[0]}function Nf(t){return 128==(128&t[2])}function Jr(t,e){return null==e?null:t[e]}function NE(t){t[18]=0}function Mf(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const L={lFrame:VE(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ME(){return L.bindingsEnabled}function w(){return L.lFrame.lView}function ie(){return L.lFrame.tView}function Xt(t){return L.lFrame.contextLView=t,t[8]}function qe(){let t=xE();for(;null!==t&&64===t.type;)t=t.parent;return t}function xE(){return L.lFrame.currentTNode}function Zn(t,e){const n=L.lFrame;n.currentTNode=t,n.isParent=e}function xf(){return L.lFrame.isParent}function Qu(){return L.isInCheckNoChangesMode}function Ku(t){L.isInCheckNoChangesMode=t}function Vs(){return L.lFrame.bindingIndex++}function pO(t,e){const n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,Of(e)}function Of(t){L.lFrame.currentDirectiveIndex=t}function Ff(t){L.lFrame.currentQueryIndex=t}function mO(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function FE(t,e,n){if(n&P.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&P.Host||(i=mO(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=L.lFrame=LE();return r.currentTNode=e,r.lView=t,!0}function Yu(t){const e=LE(),n=t[1];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function LE(){const t=L.lFrame,e=null===t?null:t.child;return null===e?VE(t):e}function VE(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function UE(){const t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const BE=UE;function Ju(){const t=UE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xt(){return L.lFrame.selectedIndex}function Zr(t){L.lFrame.selectedIndex=t}function Ne(){const t=L.lFrame;return Rf(t.tView,t.selectedIndex)}function Zu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Xu(t,e,n){jE(t,e,3,n)}function ec(t,e,n,r){(3&t[2])===n&&jE(t,e,n,r)}function Lf(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function jE(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[18]+=65536),(a<s||-1==s)&&(IO(t,n,e,l),t[18]=(4294901760&t[18])+l+2),l++}function IO(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class ma{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function tc(t,e,n){const r=Le(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++i];Uf(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function HE(t){return 3===t||4===t||6===t}function Uf(t){return 64===t.charCodeAt(0)}function nc(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||$E(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function $E(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function WE(t){return-1!==t}function Us(t){return 32767&t}function Bs(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Bf=!0;function rc(t){const e=Bf;return Bf=t,e}let MO=0;function ya(t,e){const n=Hf(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,jf(r.data,t),jf(e,null),jf(r.blueprint,null));const i=ic(t,e),s=t.injectorIndex;if(WE(i)){const o=Us(i),a=Bs(i,e),l=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function jf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Hf(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ic(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function sc(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(da)&&(r=n[da]),null==r&&(r=n[da]=MO++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function zE(t,e,n){if(n&P.Optional)return t;Uu(e,"NodeInjector")}function QE(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],s=Qr(void 0);try{return i?i.get(e,r,n&P.Optional):gE(e,r,n&P.Optional)}finally{Qr(s)}}return zE(r,e,n)}function KE(t,e,n,r=P.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(da)?t[da]:void 0;return"number"==typeof e?e>=0?255&e:OO:e}(n);if("function"==typeof s){if(!FE(e,t,r))return r&P.Host?zE(i,n,r):QE(e,n,r,i);try{const o=s(r);if(null!=o||r&P.Optional)return o;Uu(n)}finally{BE()}}else if("number"==typeof s){let o=null,a=Hf(t,e),l=-1,u=r&P.Host?e[16][6]:null;for((-1===a||r&P.SkipSelf)&&(l=-1===a?ic(t,e):e[a+8],-1!==l&&ZE(r,!1)?(o=e[1],a=Us(l),e=Bs(l,e)):a=-1);-1!==a;){const c=e[1];if(JE(s,a,c.data)){const d=kO(a,e,n,o,r,u);if(d!==YE)return d}l=e[a+8],-1!==l&&ZE(r,e[1].data[a+8]===u)&&JE(s,a,e)?(o=c,a=Us(l),e=Bs(l,e)):a=-1}}}return QE(e,n,r,i)}const YE={};function OO(){return new js(qe(),w())}function kO(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=function(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,c=s>>20,h=i?a+c:t.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){const f=o[l];if(f&&Mn(f)&&f.type===n)return l}return null}(a,o,n,null==r?Gu(a)&&Bf:r!=o&&0!=(3&a.type),i&P.Host&&s===a);return null!==c?va(e,o,c,a):YE}function va(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof ma}(i)){const o=i;o.resolving&&function(t,e){throw new zr("200",`Circular dependency in DI detected for ${t}`)}(At(s[n]));const a=rc(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Qr(o.injectImpl):null;FE(t,r,P.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=wE(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&Qr(l),rc(a),o.resolving=!1,BE()}}return i}function JE(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function ZE(t,e){return!(t&P.Self||t&P.Host&&e)}class js{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return KE(this._tNode,this._lView,e,r,n)}}function pn(t){return Kr(()=>{const e=t.prototype.constructor,n=e[Tr]||$f(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Tr]||$f(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $f(t){return dE(t)?()=>{const e=$f(x(t));return e&&e()}:Vi(t)}function Ca(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(HE(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(qe(),t)}const $s="__parameters__";function Ui(t,e,n){return Kr(()=>{const r=function(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,u,c){const d=l.hasOwnProperty($s)?l[$s]:Object.defineProperty(l,$s,{value:[]})[$s];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class te{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const UO=new te("AnalyzeForEntryComponents"),ac=Function;function er(t,e){t.forEach(n=>Array.isArray(n)?er(n,e):e(n))}function uc(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function en(t,e,n){let r=Gs(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Gf(t,e){const n=Gs(t,e);if(n>=0)return t[1|n]}function Gs(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Da={},zf="__NG_DI_FLAG__",qs="ngTempTokenPath",KO=/\n/gm,Qf="__source",Kf=ae({provide:String,useValue:ae});let Ia;function zs(t){const e=Ia;return Ia=t,e}function JO(t,e=P.Default){if(void 0===Ia)throw new Error("inject() must be called from an injection context");return null===Ia?gE(t,void 0,e):Ia.get(t,e&P.Optional?null:void 0,e)}function S(t,e=P.Default){return(vf||JO)(x(t),e)}function ji(t){const e=[];for(let n=0;n<t.length;n++){const r=x(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let i,s=P.Default;for(let o=0;o<r.length;o++){const a=r[o],l=ZO(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(S(i,s))}else e.push(S(r))}return e}function Ta(t,e){return t[zf]=e,t.prototype[zf]=e,t}function ZO(t){return t[zf]}function ib(t,e,n,r){const i=t[qs];throw e[Qf]&&i.unshift(e[Qf]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=K(e);if(Array.isArray(e))i=e.map(K).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):K(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(KO,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[qs]=null,t}const Qs=Ta(Ui("Inject",t=>({token:t})),-1),Ht=Ta(Ui("Optional"),8),ti=Ta(Ui("SkipSelf"),4);var tn=(()=>((tn=tn||{})[tn.Important=1]="Important",tn[tn.DashCase=2]="DashCase",tn))();const cb="__ngContext__";function Et(t,e){t[cb]=e}function Zf(t){const e=function(t){return t[cb]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ep(t,e){return undefined(t,e)}function Ra(t){const e=t[3];return Nn(e)?e[3]:e}function tp(t){return _b(t[13])}function np(t){return _b(t[4])}function _b(t){for(;null!==t&&!Nn(t);)t=t[4];return t}function Ys(t,e,n,r,i){if(null!=r){let s,o=!1;Nn(r)?s=r:Jn(r)&&(o=!0,r=r[0]);const a=je(r);0===t&&null!==n?null==i?wb(e,n,a):Hi(e,n,a,i||null,!0):1===t&&null!==n?Hi(e,n,a,i||null,!0):2===t?function(t,e,n){const r=pc(t,e);r&&function(t,e,n,r){Le(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==je(n)&&Ys(e,t,r,s,i);for(let a=10;a<n.length;a++){const l=n[a];Na(l[1],l,t,e,r,s)}}(e,t,s,n,i)}}function ip(t,e,n){return Le(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function vb(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mf(i,-1)),n.splice(r,1)}function sp(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&vb(i,r),e>0&&(t[n-1][4]=r[4]);const s=Bi(t,10+e);!function(t,e){Na(t,e,e[G],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Cb(t,e){if(!(256&e[2])){const n=e[G];Le(n)&&n.destroyNode&&Na(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return op(t[1],t);for(;e;){let n=null;if(Jn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Jn(e)&&op(e[1],e),e=e[3];null===e&&(e=t),Jn(e)&&op(e[1],e),n=e&&e[4]}e=n}}(e)}}function op(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ma)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):je(e[o]),l=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?a.removeEventListener(n[s],l,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Le(e[G])&&e[G].destroy();const n=e[17];if(null!==n&&Nn(e[3])){n!==e[3]&&vb(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Eb(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===Ge.None||i===Ge.Emulated)return null}return Jt(r,n)}(t,e.parent,n)}function Hi(t,e,n,r,i){Le(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function wb(t,e,n){Le(t)?t.appendChild(e,n):e.appendChild(n)}function Db(t,e,n,r,i){null!==r?Hi(t,e,n,r,i):wb(t,e,n)}function pc(t,e){return Le(t)?t.parentNode(e):e.parentNode}let Sb=function(t,e,n){return 40&t.type?Jt(t,n):null};function gc(t,e,n,r){const i=Eb(t,r,e),s=e[G],a=function(t,e,n){return Sb(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)Db(s,i,n[l],a,!1);else Db(s,i,n,a,!1)}function mc(t,e){if(null!==e){const n=e.type;if(3&n)return Jt(e,t);if(4&n)return lp(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return mc(t,r);{const i=t[e.index];return Nn(i)?lp(-1,i):je(i)}}if(32&n)return ep(e,t)()||je(t[e.index]);{const r=Rb(t,e);return null!==r?Array.isArray(r)?r[0]:mc(Ra(t[16]),r):mc(t,e.next)}}return null}function Rb(t,e){return null!==e?t[16][6].projection[e.projection]:null}function lp(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return mc(r,i)}return e[7]}function cp(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Et(je(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)cp(t,e,n.child,r,i,s,!1),Ys(e,t,i,a,s);else if(32&l){const u=ep(n,r);let c;for(;c=u();)Ys(e,t,i,c,s);Ys(e,t,i,a,s)}else 16&l?Nb(t,e,r,n,i,s):Ys(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Na(t,e,n,r,i,s){cp(n,r,t.firstChild,e,i,s,!1)}function Nb(t,e,n,r,i,s){const o=n[16],l=o[6].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Ys(e,t,i,l[u],s);else cp(t,e,l,o[3],i,s,!0)}function Mb(t,e,n){Le(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function dp(t,e,n){Le(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Wi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function nn(t){return t instanceof Wi?t.changingThisBreaksApplicationSecurity:t}function tr(t,e){const n=function(t){return t instanceof Wi&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}const Qk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var me=(()=>((me=me||{})[me.NONE=0]="NONE",me[me.HTML=1]="HTML",me[me.STYLE=2]="STYLE",me[me.SCRIPT=3]="SCRIPT",me[me.URL=4]="URL",me[me.RESOURCE_URL=5]="RESOURCE_URL",me))();function Pa(t){const e=function(){const t=w();return t&&t[12]}();return e?e.sanitize(me.URL,t)||"":tr(t,"URL")?nn(t):function(t){return(t=String(t)).match(Qk)||t.match(Kk)?t:"unsafe:"+t}(j(t))}function Cc(t){return t.ngOriginalError}function d1(t,...e){t.error(...e)}class Gi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=this._findContext(e),i=function(t){return t&&t.ngErrorLogger||d1}(e);i(this._console,"ERROR",e),n&&i(this._console,"ORIGINAL ERROR",n),r&&i(this._console,"ERROR CONTEXT",r)}_findContext(e){return e?function(t){return t.ngDebugContext}(e)||this._findContext(Cc(e)):null}_findOriginalError(e){let n=e&&Cc(e);for(;n&&Cc(n);)n=Cc(n);return n||null}}const Yb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(le))();function rr(t){return t instanceof Function?t():t}function Zb(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const Xb="ng-template";function v1(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Zb(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ew(t){return 4===t.type&&t.value!==Xb}function C1(t,e,n){return e===(4!==t.type||n?t.value:Xb)}function E1(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(HE(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!C1(t,l,n)||""===l&&1===e.length){if(xn(r))return!1;o=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!v1(t.attrs,u,n)){if(xn(r))return!1;o=!0}continue}const d=b1(8&r?"class":l,i,ew(t),n);if(-1===d){if(xn(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Zb(f,u,0)||2&r&&u!==h){if(xn(r))return!1;o=!0}}}}else{if(!o&&!xn(r)&&!xn(l))return!1;if(o&&xn(l))continue;o=!1,r=l|1&r}}return xn(r)||o}function xn(t){return 0==(1&t)}function b1(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tw(t,e,n=!1){for(let r=0;r<e.length;r++)if(E1(t,e[r],n))return!0;return!1}function nw(t,e){return t?":not("+e.trim()+")":e}function S1(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!xn(o)&&(e+=nw(s,i),i=""),r=o,s=s||!xn(r);n++}return""!==i&&(e+=nw(s,i)),e}const U={};function se(t){rw(ie(),w(),xt()+t,Qu())}function rw(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Xu(e,s,n)}else{const s=t.preOrderHooks;null!==s&&ec(e,s,0,n)}Zr(n)}function Ec(t,e){return t<<17|e<<2}function Pn(t){return t>>17&32767}function vp(t){return 2|t}function Ar(t){return(131068&t)>>2}function Cp(t,e){return-131069&t|e<<2}function Ep(t){return 1|t}function fw(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Ff(i),o.contentQueries(2,e[s],s)}}}function ka(t,e,n,r,i,s,o,a,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,NE(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[G]=a||t&&t[G],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=s,c[16]=2==e.type?t[16]:c,c}function Zs(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=xE(),o=xf(),l=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(t,e,n,r,i),L.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function(){const t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Zn(s,!0),s}function Xs(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Fa(t,e,n){Yu(e);try{const r=t.viewQuery;null!==r&&Lp(1,r,n);const i=t.template;null!==i&&pw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&fw(t,e),t.staticViewQueries&&Lp(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)oF(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Ju()}}function eo(t,e,n,r){const i=e[2];if(256==(256&i))return;Yu(e);const s=Qu();try{NE(e),function(t){L.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&pw(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const u=t.preOrderCheckHooks;null!==u&&Xu(e,u,null)}else{const u=t.preOrderHooks;null!==u&&ec(e,u,0,null),Lf(e,0)}if(function(t){for(let e=tp(t);null!==e;e=np(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&Mf(s,1),i[2]|=1024}}}(e),function(t){for(let e=tp(t);null!==e;e=np(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];Nf(r)&&eo(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&fw(t,e),!s)if(o){const u=t.contentCheckHooks;null!==u&&Xu(e,u)}else{const u=t.contentHooks;null!==u&&ec(e,u,1),Lf(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Zr(~i);else{const s=i,o=n[++r],a=n[++r];pO(o,s),a(2,e[s])}}}finally{Zr(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)sF(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Lp(2,l,r),!s)if(o){const u=t.viewCheckHooks;null!==u&&Xu(e,u)}else{const u=t.viewHooks;null!==u&&ec(e,u,2),Lf(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mf(e[3],-1))}finally{Ju()}}function B1(t,e,n,r){const i=e[10],s=!Qu(),o=function(t){return 4==(4&t[2])}(e);try{s&&!o&&i.begin&&i.begin(),o&&Fa(t,e,r),eo(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function pw(t,e,n,r,i){const s=xt(),o=2&r;try{Zr(-1),o&&e.length>20&&rw(t,e,20,Qu()),n(r,i)}finally{Zr(s)}}function Rp(t,e,n){!ME()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ya(n,e),Et(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],u=Mn(l);u&&eF(e,n,l);const c=va(e,t,a,n);Et(c,e),null!==o&&tF(0,a-i,c,l,0,o),u&&(Zt(n.index,e)[8]=c)}}(t,e,n,Jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=L.lFrame.currentDirectiveIndex;try{Zr(o);for(let l=r;l<i;l++){const u=t.data[l],c=e[l];Of(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&ww(u,c)}}finally{Zr(-1),Of(a)}}(t,e,n))}function Np(t,e,n=Jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function mw(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Dc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Dc(t,e,n,r,i,s,o,a,l,u){const c=20+r,d=c+i,h=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:U);return n}(c,d),f="function"==typeof u?u():u;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Cw(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function rn(t,e,n,r,i,s,o,a){const l=Jt(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[r])?(Pw(t,n,c,r,i),Gu(e)&&function(t,e){const n=Zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Le(s)?s.setProperty(l,r,i):Uf(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Mp(t,e,n,r){let i=!1;if(ME()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];tw(n,o.selectors,!1)&&(i||(i=[]),sc(ya(n,e),t,o.type),Mn(o)?(Dw(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Iw(n,t.data.length,s.length);for(let c=0;c<s.length;c++){const d=s[c];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,u=Xs(t,e,s.length,null);for(let c=0;c<s.length;c++){const d=s[c];n.mergedAttrs=nc(n.mergedAttrs,d.hostAttrs),Tw(t,n,e,u,d),X1(u,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),u++}!function(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,l=null;for(let u=e.directiveStart;u<r;u++){const c=i[u],d=c.inputs,h=null===s||ew(e)?null:nF(d,s);o.push(h),a=Cw(d,u,a),l=Cw(c.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new zr("301",`Export of name '${e[i+1]}' not found!`);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=nc(n.mergedAttrs,n.attrs),i}function bw(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const l=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=l&&a.push(l),a.push(r,i,o)}}function ww(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Dw(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function X1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mn(e)&&(n[""]=t)}}function Iw(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Tw(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Vi(i.type)),o=new ma(s,Mn(i),null);t.blueprint[r]=o,n[r]=o,bw(t,e,0,r,Xs(t,n,i.hostVars,U),i)}function eF(t,e,n){const r=Jt(e,t),i=mw(n),s=t[10],o=Ic(t,ka(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function ir(t,e,n,r,i,s){const o=Jt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Le(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?j(s):o(s,r||"",i);Le(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[G],o,s,t.value,n,r,i)}function tF(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const u=o[l++],c=o[l++],d=o[l++];null!==a?r.setInput(n,d,u,c):n[c]=d}}}function nF(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Sw(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function sF(t,e){const n=Zt(e,t);if(Nf(n)){const r=n[1];80&n[2]?eo(r,n,r.template,n[8]):n[5]>0&&Pp(n)}}function Pp(t){for(let r=tp(t);null!==r;r=np(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];eo(o,s,o.template,s[8])}else s[5]>0&&Pp(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Zt(n[r],t);Nf(i)&&i[5]>0&&Pp(i)}}function oF(t,e){const n=Zt(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Fa(r,n,n[8])}function Ic(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Op(t){for(;t;){t[2]|=64;const e=Ra(t);if(KP(t)&&!e)return t;t=e}return null}function Fp(t,e,n){const r=e[10];r.begin&&r.begin();try{eo(t,e,t.template,n)}catch(i){throw xw(e,i),i}finally{r.end&&r.end()}}function Aw(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Zf(n),i=r[1];B1(i,r,i.template,n)}}(t[8])}function Lp(t,e,n){Ff(0),e(t,n)}const dF=(()=>Promise.resolve(null))();function Rw(t){return t[7]||(t[7]=[])}function Nw(t){return t.cleanup||(t.cleanup=[])}function xw(t,e){const n=t[9],r=n?n.get(Gi,null):null;r&&r.handleError(e)}function Pw(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function Nr(t,e,n){const r=zu(e,t);!function(t,e,n){Le(t)?t.setValue(e,n):e.textContent=n}(t[G],r,n)}function Tc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=mf(i,a):2==s&&(r=mf(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const to=new te("INJECTOR",-1);class Ow{get(e,n=Da){if(n===Da){const r=new Error(`NullInjectorError: No provider for ${K(e)}!`);throw r.name="NullInjectorError",r}return n}}const La=new te("Set Injector scope."),Va={},pF={};let Vp;function kw(){return void 0===Vp&&(Vp=new Ow),Vp}function Fw(t,e=null,n=null,r){return new mF(t,n,e||kw(),r)}class mF{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&er(n,a=>this.processProvider(a,e,n)),er([e],a=>this.processInjectorType(a,[],s)),this.records.set(to,no(void 0,this));const o=this.records.get(La);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:K(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=Da,r=P.Default){this.assertNotDestroyed();const i=zs(this),s=Qr(void 0);try{if(!(r&P.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function(t){return"function"==typeof t||"object"==typeof t&&t instanceof te}(e)&&Ir(e);a=l&&this.injectableDefInScope(l)?no(Up(e),Va):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&P.Self?kw():this.parent).get(e,n=r&P.Optional&&n===Da?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[qs]=o[qs]||[]).unshift(K(e)),i)throw o;return ib(o,e,"R3InjectorError",this.source)}throw o}finally{Qr(s),zs(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(K(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,n,r){if(!(e=x(e)))return!1;let i=fE(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=fE(s)),null==i)return!1;if(null!=i.imports&&!a){let c;r.push(o);try{er(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===c&&(c=[]),c.push(d))})}finally{}if(void 0!==c)for(let d=0;d<c.length;d++){const{ngModule:h,providers:f}=c[d];er(f,p=>this.processProvider(p,h,f||fe))}}this.injectorDefTypes.add(o);const l=Vi(o)||(()=>new o);this.records.set(o,no(l,Va));const u=i.providers;if(null!=u&&!a){const c=e;er(u,d=>this.processProvider(d,c,u))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=ro(e=x(e))?e:x(e&&e.provide);const s=function(t,e,n){return Vw(t)?no(void 0,t.useValue):no(Lw(t),Va)}(e);if(ro(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=no(void 0,Va,!0),o.factory=()=>ji(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Va&&(n.value=pF,n.value=n.factory()),"object"==typeof n.value&&n.value&&function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=x(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function Up(t){const e=Ir(t),n=null!==e?e.factory:Vi(t);if(null!==n)return n;if(t instanceof te)throw new Error(`Token ${K(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const r=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${K(t)}: (${r.join(", ")}).`)}const n=function(t){const e=t&&(t[Bu]||t[pE]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Lw(t,e,n){let r;if(ro(t)){const i=x(t);return Vi(i)||Up(i)}if(Vw(t))r=()=>x(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...ji(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>S(x(t.useExisting));else{const i=x(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Vi(i)||Up(i);r=()=>new i(...ji(t.deps))}return r}function no(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Vw(t){return null!==t&&"object"==typeof t&&Kf in t}function ro(t){return"function"==typeof t}const Uw=function(t,e,n){return function(t,e=null,n=null,r){const i=Fw(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let de=(()=>{class t{static create(n,r){return Array.isArray(n)?Uw(n,r,""):Uw(n.providers,n.parent,n.name||"")}}return t.THROW_IF_NOT_FOUND=Da,t.NULL=new Ow,t.\u0275prov=H({token:t,providedIn:"any",factory:()=>S(to)}),t.__NG_ELEMENT_ID__=-1,t})();function LF(t,e){Zu(Zf(t)[1],qe())}function De(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Mn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Gp(t.inputs),o.declaredInputs=Gp(t.declaredInputs),o.outputs=Gp(t.outputs);const a=i.hostBindings;a&&jF(t,a);const l=i.viewQuery,u=i.contentQueries;if(l&&UF(t,l),u&&BF(t,u),gf(t.inputs,i.inputs),gf(t.declaredInputs,i.declaredInputs),gf(t.outputs,i.outputs),Mn(i)&&i.data.animation){const c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===De&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=nc(i.hostAttrs,n=nc(n,i.hostAttrs))}}(r)}function Gp(t){return t===xs?{}:t===fe?[]:t}function UF(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function BF(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function jF(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Sc=null;function io(){if(!Sc){const t=le.Symbol;if(t&&t.iterator)Sc=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Sc=r)}}}return Sc}function Ba(t){return!!qp(t)&&(Array.isArray(t)||!(t instanceof Map)&&io()in t)}function qp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function bt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function or(t,e,n,r){const i=w();return bt(i,Vs(),e)&&(ie(),ir(Ne(),i,t,e,n,r)),or}function oo(t,e,n,r){return bt(t,Vs(),n)?e+j(n)+r:U}function Ot(t,e,n,r,i,s,o,a){const l=w(),u=ie(),c=t+20,d=u.firstCreatePass?function(t,e,n,r,i,s,o,a,l){const u=e.consts,c=Zs(e,t,4,o||null,Jr(u,a));Mp(e,n,c,Jr(u,l)),Zu(e,c);const d=c.tViews=Dc(2,c,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,s,o):u.data[c];Zn(d,!1);const h=l[G].createComment("");gc(u,l,h,d),Et(h,l),Ic(l,l[c]=Sw(h,l,h,d)),qu(d)&&Rp(u,l,d),null!=o&&Np(l,d,a)}function sn(t){return function(t,e){return t[e]}(L.lFrame.contextLView,20+t)}function b(t,e=P.Default){const n=w();return null===n?S(t,e):KE(qe(),n,x(t),e)}function rt(t,e,n){const r=w();return bt(r,Vs(),e)&&rn(ie(),Ne(),r,t,e,r[G],n,!1),rt}function Jp(t,e,n,r,i){const o=i?"class":"style";Pw(t,n,e.inputs[o],o,r)}function _(t,e,n,r){const i=w(),s=ie(),o=20+t,a=i[G],l=i[o]=ip(a,e,L.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Zs(e,t,2,i,Jr(a,s));return Mp(e,n,u,Jr(a,o)),null!==u.attrs&&Tc(u,u.attrs,!1),null!==u.mergedAttrs&&Tc(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Zn(u,!0);const c=u.mergedAttrs;null!==c&&tc(a,l,c);const d=u.classes;null!==d&&dp(a,l,d);const h=u.styles;null!==h&&Mb(a,l,h),64!=(64&u.flags)&&gc(s,i,l,u),0===L.lFrame.elementDepthCount&&Et(l,i),L.lFrame.elementDepthCount++,qu(u)&&(Rp(s,i,u),function(t,e,n){if(Df(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}(s,u,i)),null!==r&&Np(i,u)}function y(){let t=qe();xf()?L.lFrame.isParent=!1:(t=t.parent,Zn(t,!1));const e=t;L.lFrame.elementDepthCount--;const n=ie();n.firstCreatePass&&(Zu(n,t),Df(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Jp(n,e,w(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Jp(n,e,w(),e.stylesWithoutHost,!1)}function q(t,e,n,r){_(t,e,n,r),y()}function Fn(){return w()}function Ha(t){return!!t&&"function"==typeof t.then}const Nc=function(t){return!!t&&"function"==typeof t.subscribe};function _e(t,e,n,r){const i=w(),s=ie(),o=qe();return function(t,e,n,r,i,s,o,a){const l=qu(r),c=t.firstCreatePass&&Nw(t),d=e[8],h=Rw(e);let f=!0;if(3&r.type||a){const g=Jt(r,e),E=a?a(g):g,v=h.length,T=a?M=>a(je(M[r.index])):r.index;if(Le(n)){let M=null;if(!a&&l&&(M=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,f=!1;else{s=Zp(r,e,d,s,!1);const W=n.listen(E,i,s);h.push(s,W),c&&c.push(i,T,v,v+1)}}else s=Zp(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),c&&c.push(i,T,v,o)}else s=Zp(r,e,d,s,!1);const p=r.outputs;let m;if(f&&null!==p&&(m=p[i])){const g=m.length;if(g)for(let E=0;E<g;E+=2){const Oe=e[m[E]][m[E+1]].subscribe(s),Bt=h.length;h.push(s,Oe),c&&c.push(i,r.index,Bt,-(Bt+1))}}}(s,i,i[G],o,t,e,!!n,r),_e}function AD(t,e,n,r){try{return!1!==n(r)}catch(i){return xw(t,i),!1}}function Zp(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?Zt(t.index,e):e;0==(32&e[2])&&Op(a);let l=AD(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)l=AD(e,0,u,o)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function yn(t=1){return function(t){return(L.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,L.lFrame.contextLView))[8]}(t)}function $a(t,e,n){return Xp(t,"",e,"",n),$a}function Xp(t,e,n,r,i){const s=w(),o=oo(s,e,n,r);return o!==U&&rn(ie(),Ne(),s,t,o,s[G],i,!1),Xp}function LD(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Pn(s):Ar(s),l=!1;for(;0!==a&&(!1===l||o);){const c=t[a+1];SL(t[a],e)&&(l=!0,t[a+1]=r?Ep(c):vp(c)),a=r?Pn(c):Ar(c)}l&&(t[n+1]=r?vp(s):Ep(s))}function SL(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Gs(t,e)>=0}function Mc(t,e){return function(t,e,n,r){const i=w(),s=ie(),o=function(t){const e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[xt()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=L.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wa(n=eg(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=eg(i,t,e,n,r),null===s){let l=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ar(r))return t[Pn(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=eg(null,t,e,l[1],r),l=Wa(l,e.attrs,r),function(t,e,n,r){t[Pn(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Wa(r,t[s].hostAttrs,n);return Wa(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Pn(o),l=Ar(o);t[r]=n;let c,u=!1;if(Array.isArray(n)){const d=n;c=d[1],(null===c||Gs(d,c)>0)&&(u=!0)}else c=n;if(i)if(0!==l){const h=Pn(t[a+1]);t[r+1]=Ec(h,a),0!==h&&(t[h+1]=Cp(t[h+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Ec(a,0),0!==a&&(t[a+1]=Cp(t[a+1],r)),a=r;else t[r+1]=Ec(l,0),0===a?a=r:t[l+1]=Cp(t[l+1],r),l=r;u&&(t[r+1]=vp(t[r+1])),LD(t,c,r,!0),LD(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Gs(s,e)>=0&&(n[r+1]=Ep(n[r+1]))}(e,c,t,r,s),o=Ec(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==U&&bt(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,u=l[a+1];xc(function(t){return 1==(1&t)}(u)?KD(l,e,n,i,Ar(u),o):void 0)||(xc(s)||function(t){return 2==(2&t)}(u)&&(s=KD(l,null,n,i,a,o)),function(t,e,n,r,i){const s=Le(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:tn.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=tn.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,zu(xt(),n),i,s))}(s,s.data[xt()],i,i[G],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=K(nn(t)))),t}(e,n),r,o)}(t,e,null,!0),Mc}function eg(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Wa(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Wa(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),en(t,o,!!n||e[++s]))}return void 0===t?null:t}function KD(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=null===c;let h=n[i+1];h===U&&(h=d?fe:void 0);let f=d?Gf(h,r):c===r?h:void 0;if(u&&!xc(f)&&(f=Gf(l,r)),xc(f)&&(a=f,o))return a;const p=t[i+1];i=o?Pn(p):Ar(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Gf(l,r))}return a}function xc(t){return void 0!==t}function N(t,e=""){const n=w(),r=ie(),i=t+20,s=r.firstCreatePass?Zs(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Le(t)?t.createText(e):t.createTextNode(e)}(n[G],e);gc(r,n,o,s),Zn(s,!1)}function on(t){return _o("",t,""),on}function _o(t,e,n){const r=w(),i=oo(r,t,e,n);return i!==U&&Nr(r,xt(),i),_o}const zi=void 0;var lV=["en",[["a","p"],["AM","PM"],zi],[["AM","PM"],zi,zi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zi,"{1} 'at' {0}",zi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let yo={};function mI(t){return t in yo||(yo[t]=le.ng&&le.ng.common&&le.ng.common.locales&&le.ng.common.locales[t]),yo[t]}var R=(()=>((R=R||{})[R.LocaleId=0]="LocaleId",R[R.DayPeriodsFormat=1]="DayPeriodsFormat",R[R.DayPeriodsStandalone=2]="DayPeriodsStandalone",R[R.DaysFormat=3]="DaysFormat",R[R.DaysStandalone=4]="DaysStandalone",R[R.MonthsFormat=5]="MonthsFormat",R[R.MonthsStandalone=6]="MonthsStandalone",R[R.Eras=7]="Eras",R[R.FirstDayOfWeek=8]="FirstDayOfWeek",R[R.WeekendRange=9]="WeekendRange",R[R.DateFormat=10]="DateFormat",R[R.TimeFormat=11]="TimeFormat",R[R.DateTimeFormat=12]="DateTimeFormat",R[R.NumberSymbols=13]="NumberSymbols",R[R.NumberFormats=14]="NumberFormats",R[R.CurrencyCode=15]="CurrencyCode",R[R.CurrencySymbol=16]="CurrencySymbol",R[R.CurrencyName=17]="CurrencyName",R[R.Currencies=18]="Currencies",R[R.Directionality=19]="Directionality",R[R.PluralCase=20]="PluralCase",R[R.ExtraData=21]="ExtraData",R))();const Pc="en-US";let _I=Pc;function ng(t){Qt(t,"Expected localeId to be defined"),"string"==typeof t&&(_I=t.toLowerCase().replace(/_/g,"-"))}function sg(t,e,n,r,i){if(t=x(t),Array.isArray(t))for(let s=0;s<t.length;s++)sg(t[s],e,n,r,i);else{const s=ie(),o=w();let a=ro(t)?t:x(t.provide),l=Lw(t);const u=qe(),c=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if(ro(t)||!t.multi){const f=new ma(l,i,b),p=ag(a,e,i?c:c+h,d);-1===p?(sc(ya(u,o),s,a),og(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=ag(a,e,c+h,d),p=ag(a,e,c,c+h),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){sc(ya(u,o),s,a);const E=function(t,e,n,r,i){const s=new ma(t,n,b);return s.multi=[],s.index=e,s.componentProviders=0,jI(s,i,r&&!n),s}(i?s2:i2,n.length,i,r,l);!i&&g&&(n[p].providerFactory=E),og(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(E),o.push(E)}else og(s,t,f>-1?f:p,jI(n[i?p:f],l,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function og(t,e,n,r){const i=ro(e);if(i||function(t){return!!t.useClass}(e)){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=a.indexOf(n);-1===l?a.push(n,[r,o]):a[l+1].push(r,o)}else a.push(n,o)}}}function jI(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ag(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function i2(t,e,n,r){return lg(this.multi,[])}function s2(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=va(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),lg(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],lg(i,s);return s}function lg(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Se(t,e=[]){return n=>{n.providersResolver=(r,i)=>function(t,e,n){const r=ie();if(r.firstCreatePass){const i=Mn(t);sg(n,r.data,r.blueprint,i,!0),sg(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class HI{}const WI="ngComponent";class l2{resolveComponentFactory(e){throw function(t){const e=Error(`No component factory found for ${K(t)}. Did you add it to @NgModule.entryComponents?`);return e[WI]=t,e}(e)}}let Qi=(()=>{class t{}return t.NULL=new l2,t})();function Vc(...t){}function Co(t,e){return new it(Jt(t,e))}const d2=function(){return Co(qe(),w())};let it=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=d2,t})();class Uc{}let xr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>f2(),t})();const f2=function(){const t=w(),n=Zt(qe().index,t);return function(t){return t[G]}(Jn(n)?n:t)};let cg=(()=>{class t{}return t.\u0275prov=H({token:t,providedIn:"root",factory:()=>null}),t})();class Ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const qI=new Ka("12.2.17");class zI{constructor(){}supports(e){return Ba(e)}create(e){return new _2(e)}}const m2=(t,e)=>e;class _2{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||m2}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<KI(r,i,s)?n:r,a=KI(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,c=l-i;if(u!=c){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;c<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=c-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Ba(e))throw new Error(`Error trying to diff '${K(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[io()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new y2(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new QI),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QI),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class y2{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class v2{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class QI{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new v2,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function KI(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class YI{constructor(){}supports(e){return e instanceof Map||qp(e)}create(){return new C2}}class C2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||qp(e)))throw new Error(`Error trying to diff '${K(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new E2(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class E2{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function JI(){return new Ya([new zI])}let Ya=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||JI()),deps:[[t,new ti,new Ht]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'`)}}return t.\u0275prov=H({token:t,providedIn:"root",factory:JI}),t})();function ZI(){return new Eo([new YI])}let Eo=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ZI()),deps:[[t,new ti,new Ht]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Error(`Cannot find a differ supporting object '${n}'`)}}return t.\u0275prov=H({token:t,providedIn:"root",factory:ZI}),t})();function Bc(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(je(s)),Nn(s))for(let a=10;a<s.length;a++){const l=s[a],u=l[1].firstChild;null!==u&&Bc(l[1],l,u,r)}const o=n.type;if(8&o)Bc(t,e,n.child,r);else if(32&o){const a=ep(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=Rb(e,n);if(Array.isArray(a))r.push(...a);else{const l=Ra(e[16]);Bc(l[1],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ja{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Bc(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Nn(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sp(e,r),Bi(n,r))}this._attachedToViewContainer=!1}Cb(this._lView[1],this._lView)}onDestroy(e){!function(t,e,n,r){const i=Rw(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Nw(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){Op(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ku(!0);try{Fp(t,e,n)}finally{Ku(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(t,e){Na(t,e,e[G],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class w2 extends Ja{constructor(e){super(e),this._view=e}detectChanges(){Aw(this._view)}checkNoChanges(){!function(t){Ku(!0);try{Aw(t)}finally{Ku(!1)}}(this._view)}get context(){return null}}const I2=function(t){return function(t,e,n){if(Gu(t)&&!n){const r=Zt(t.index,e);return new Ja(r,r)}return 47&t.type?new Ja(e[16],e):null}(qe(),w(),16==(16&t))};let dg=(()=>{class t{}return t.__NG_ELEMENT_ID__=I2,t})();const A2=[new YI],N2=new Ya([new zI]),M2=new Eo(A2),P2=function(){return function(t,e){return 4&t.type?new k2(e,t,Co(t,e)):null}(qe(),w())};let Pr=(()=>{class t{}return t.__NG_ELEMENT_ID__=P2,t})();const O2=Pr,k2=class extends O2{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=ka(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Fa(n,r,e),new Ja(r)}};class ur{}class XI{}const V2=function(){return function(t,e){let n;const r=e[t.index];if(Nn(r))n=r;else{let i;if(8&t.type)i=je(r);else{const s=e[G];i=s.createComment("");const o=Jt(t,e);Hi(s,pc(s,o),i,function(t,e){return Le(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=Sw(r,e,i,t),Ic(e,n)}return new eT(n,t,e)}(qe(),w())};let Un=(()=>{class t{}return t.__NG_ELEMENT_ID__=V2,t})();const B2=Un,eT=class extends B2{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Co(this._hostTNode,this._hostLView)}get injector(){return new js(this._hostTNode,this._hostLView)}get parentInjector(){const e=ic(this._hostTNode,this._hostLView);if(WE(e)){const n=Bs(e,this._hostLView),r=Us(e);return new js(n[1].data[r+8],n)}return new js(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=tT(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=r||this.parentInjector;if(!s&&null==e.ngModule&&o){const l=o.get(ur,null);l&&(s=l)}const a=e.create(o,i,void 0,s);return this.insert(a.hostView,n),a}insert(e,n){const r=e._lView,i=r[1];if(function(t){return Nn(t[3])}(r)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const d=r[3],h=new eT(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],uc(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=lp(s,o),l=r[G],u=pc(l,o[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Na(t,r,n,1,i,s)}(i,o[6],l,r,u,a),e.attachToViewContainerRef(),uc(hg(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=tT(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);r&&(Bi(hg(this._lContainer),n),Cb(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=sp(this._lContainer,n);return r&&null!=Bi(hg(this._lContainer),n)?new Ja(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function tT(t){return t[8]}function hg(t){return t[8]||(t[8]=[])}const Io={};class bT extends Qi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=yt(e);return new DT(n,this.ngModule)}}function wT(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const FU=new te("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Yb});class DT extends HI{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function(t){return t.map(S1).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return wT(this.componentDef.inputs)}get outputs(){return wT(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Io,i);return s!==Io||r===Io?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Uc,AE),a=s.get(cg,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=r?function(t,e,n){if(Le(t))return t.selectRootElement(e,n===Ge.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(l,r,this.componentDef.encapsulation):ip(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),d=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||Yb,clean:dF,playerHandler:e||null,flags:0}}(),f=Dc(0,null,null,1,0,null,null,null,null,null),p=ka(null,f,h,d,null,null,o,l,a,s);let m,g;Yu(p);try{const E=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const l=Zs(o,20,2,"#host",null),u=l.mergedAttrs=e.hostAttrs;null!==u&&(Tc(l,u,!0),null!==t&&(tc(i,t,u),null!==l.classes&&dp(i,t,l.classes),null!==l.styles&&Mb(i,t,l.styles)));const c=r.createRenderer(t,e),d=ka(n,mw(e),null,e.onPush?64:16,n[20],l,r,c,s||null,null);return o.firstCreatePass&&(sc(ya(l,n),o,e.type),Dw(o,l),Iw(l,n.length,1)),Ic(n,d),n[20]=d}(c,this.componentDef,p,o,l);if(c)if(r)tc(l,c,["ng-version",qI.full]);else{const{attrs:v,classes:T}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!xn(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);v&&tc(l,c,v),T&&T.length>0&&dp(l,c,T.join(" "))}if(g=Rf(f,20),void 0!==n){const v=g.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const M=n[T];v.push(null!=M?Array.from(M):null)}}m=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=qe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Tw(t,r,e,Xs(t,e,1,null),n));const i=va(e,t,r.directiveStart,r);Et(i,e);const s=Jt(r,e);return s&&Et(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(l=>l(o,e)),e.contentQueries){const l=qe();e.contentQueries(1,o,l.directiveStart)}const a=qe();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Zr(a.index),bw(n[1],a,0,a.directiveStart,a.directiveEnd,e),ww(e,o)),o}(E,this.componentDef,p,h,[LF]),Fa(f,p,null)}finally{Ju()}return new UU(this.componentType,m,Co(g,p),p,g)}}class UU extends class{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new w2(i),this.componentType=e}get injector(){return new js(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const To=new Map;class HU extends ur{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bT(this);const r=dn(e),i=function(t){return t[jP]||null}(e);i&&ng(i),this._bootstrapComponents=rr(r.bootstrap),this._r3Injector=Fw(e,n,[{provide:ur,useValue:this},{provide:Qi,useValue:this.componentFactoryResolver}],K(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=de.THROW_IF_NOT_FOUND,r=P.Default){return e===de||e===ur||e===to?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ig extends XI{constructor(e){super(),this.moduleType=e,null!==dn(e)&&function(t){const e=new Set;!function n(r){const i=dn(r,!0),s=i.id;null!==s&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${K(e)} vs ${K(e.name)}`)}(s,To.get(s),r),To.set(s,r));const o=rr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new HU(this.moduleType,e)}}function Tg(t){return e=>{setTimeout(t,void 0,e)}}const Ke=class extends wr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,l=n||(()=>null),u=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),u=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=Tg(l),a&&(a=Tg(a)),u&&(u=Tg(u)));const c=super.subscribe({next:a,error:l,complete:u});return e instanceof ke&&e.add(c),c}};Symbol;const ul=new te("Application Initializer");let Ao=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Vc,this.reject=Vc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Ha(s))n.push(s);else if(Nc(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(S(ul,8))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();const cl=new te("AppId"),WB={provide:cl,useFactory:function(){return`${Bg()}${Bg()}${Bg()}`},deps:[]};function Bg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eS=new te("Platform Initializer"),jg=new te("Platform ID"),tS=new te("appBootstrapListener");let Kc=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();const si=new te("LocaleId"),nS=new te("DefaultCurrencyCode");class qB{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}const Hg=function(t){return new Ig(t)},zB=Hg,QB=function(t){return Promise.resolve(Hg(t))},rS=function(t){const e=Hg(t),r=rr(dn(t).declarations).reduce((i,s)=>{const o=yt(s);return o&&i.push(new DT(o)),i},[]);return new qB(e,r)},KB=rS,YB=function(t){return Promise.resolve(rS(t))};let Ji=(()=>{class t{constructor(){this.compileModuleSync=zB,this.compileModuleAsync=QB,this.compileModuleAndAllComponentsSync=KB,this.compileModuleAndAllComponentsAsync=YB}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();const XB=(()=>Promise.resolve(0))();function $g(t){"undefined"==typeof Zone?XB.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class He{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let t=le.requestAnimationFrame,e=le.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(le,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gg(t),t.isCheckStableRunning=!0,Wg(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gg(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return iS(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),sS(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return iS(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),sS(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Gg(t),Wg(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!He.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(He.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,tj,Vc,Vc);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const tj={};function Wg(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gg(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function iS(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function sS(t){t._nesting--,Wg(t)}class ij{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let qg=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{He.assertNotInAngularZone(),$g(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$g(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(S(He))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})(),oS=(()=>{class t{constructor(){this._applications=new Map,zg.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return zg.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();class sj{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let zg=new sj,aS=!0,lS=!1;let Hn;const cS=new te("AllowMultipleToken");class Qg{constructor(e,n){this.name=e,this.token=n}}function dS(t,e,n=[]){const r=`Platform: ${e}`,i=new te(r);return(s=[])=>{let o=hS();if(!o||o.injector.get(cS,!1))if(t)t(n.concat(s).concat({provide:i,useValue:!0}));else{const a=n.concat(s).concat({provide:i,useValue:!0},{provide:La,useValue:"platform"});!function(t){if(Hn&&!Hn.destroyed&&!Hn.injector.get(cS,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hn=t.get(fS);const e=t.get(eS,null);e&&e.forEach(n=>n())}(de.create({providers:a,name:r}))}return function(t){const e=hS();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function hS(){return Hn&&!Hn.destroyed?Hn:null}let fS=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function(t,e){let n;return n="noop"===t?new ij:("zone.js"===t?void 0:t)||new He({enableLongStackTrace:(lS=!0,aS),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),l=[{provide:He,useValue:a}];return a.run(()=>{const u=de.create({providers:l,parent:this.injector,name:n.moduleType.name}),c=n.create(u),d=c.injector.get(Gi,null);if(!d)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});c.onDestroy(()=>{Kg(this._modules,c),h.unsubscribe()})}),function(t,e,n){try{const r=n();return Ha(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=c.injector.get(Ao);return h.runInitializers(),h.donePromise.then(()=>(ng(c.injector.get(si,Pc)||Pc),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,r=[]){const i=pS({},r);return function(t,e,n){const r=new Ig(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ro);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new Error(`The module ${K(n.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(S(de))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();function pS(t,e){return Array.isArray(e)?e.reduce(pS,t):Object.assign(Object.assign({},t),e)}let Ro=(()=>{class t{constructor(n,r,i,s,o){this._zone=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Ie(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new Ie(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),$g(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),d.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Lu(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof Ie?t[0]:ca(e)(ff(t,n))}(a,l.pipe(t=>pf()(function(t,e){return function(r){let i;i="function"==typeof t?t:function(){return t};const s=Object.create(r,bP);return s.source=r,s.subjectFactory=i,s}}(SP)(t))))}bootstrap(n,r){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=n instanceof HI?n:this._componentFactoryResolver.resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function(t){return t.isBoundToModule}(i)?void 0:this._injector.get(ur),a=i.create(de.NULL,[],r||i.selector,s),l=a.location.nativeElement,u=a.injector.get(qg,null),c=u&&a.injector.get(oS);return u&&c&&c.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),Kg(this.components,a),c&&c.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Kg(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(tS,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(S(He),S(de),S(Gi),S(Qi),S(Ao))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();function Kg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Jc{}class Cj{}const Ej={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bj=(()=>{class t{constructor(n,r){this._compiler=n,this._config=r||Ej}load(n){return this.loadAndCompile(n)}loadAndCompile(n){let[r,i]=n.split("#");return void 0===i&&(i="default"),_t(255)(r).then(s=>s[i]).then(s=>yS(s,r,i)).then(s=>this._compiler.compileModuleAsync(s))}loadFactory(n){let[r,i]=n.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),_t(255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(o=>o[i+s]).then(o=>yS(o,r,i))}}return t.\u0275fac=function(n){return new(n||t)(S(Ji),S(Cj,8))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();function yS(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const xj=dS(null,"core",[{provide:jg,useValue:"unknown"},{provide:fS,deps:[de]},{provide:oS,deps:[]},{provide:Kc,deps:[]}]),Lj=[{provide:Ro,useClass:Ro,deps:[He,de,Gi,Qi,Ao]},{provide:FU,deps:[He],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(n){e.push(n)}}},{provide:Ao,useClass:Ao,deps:[[new Ht,ul]]},{provide:Ji,useClass:Ji,deps:[]},WB,{provide:Ya,useFactory:function(){return N2},deps:[]},{provide:Eo,useFactory:function(){return M2},deps:[]},{provide:si,useFactory:function(t){return ng(t=t||"undefined"!=typeof $localize&&$localize.locale||Pc),t},deps:[[new Qs(si),new Ht,new ti]]},{provide:nS,useValue:"USD"}];let Uj=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(S(Ro))},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({providers:Lj}),t})(),ad=null;function cr(){return ad}const ft=new te("DocumentToken");let es=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({factory:VH,token:t,providedIn:"platform"}),t})();function VH(){return S(HS)}const UH=new te("Location Initialized");let HS=(()=>{class t extends es{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return cr().getBaseHref(this._doc)}onPopState(n){const r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=cr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){$S()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){$S()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(S(ft))},t.\u0275prov=H({factory:BH,token:t,providedIn:"platform"}),t})();function $S(){return!!window.history.pushState}function BH(){return new HS(S(ft))}function cm(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function WS(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function kr(t){return t&&"?"!==t[0]?"?"+t:t}let xo=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({factory:jH,token:t,providedIn:"root"}),t})();function jH(t){const e=S(ft).location;return new GS(S(es),e&&e.origin||"")}const dm=new te("appBaseHref");let GS=(()=>{class t extends xo{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cm(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+kr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+kr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(S(es),S(dm,8))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})(),HH=(()=>{class t extends xo{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=cm(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+kr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(S(es),S(dm,8))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})(),ld=(()=>{class t{constructor(n,r){this._subject=new Ke,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=WS(qS(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kr(r))}normalize(n){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,qS(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.\u0275fac=function(n){return new(n||t)(S(xo),S(es))},t.normalizeQueryParams=kr,t.joinWithSlash=cm,t.stripTrailingSlash=WS,t.\u0275prov=H({factory:$H,token:t,providedIn:"root"}),t})();function $H(){return new ld(S(xo),S(es))}function qS(t){return t.replace(/\/index.html$/,"")}var $e=(()=>(($e=$e||{})[$e.Zero=0]="Zero",$e[$e.One=1]="One",$e[$e.Two=2]="Two",$e[$e.Few=3]="Few",$e[$e.Many=4]="Many",$e[$e.Other=5]="Other",$e))();const JH=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=mI(e);if(n)return n;const r=e.split("-")[0];if(n=mI(r),n)return n;if("en"===r)return lV;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[R.PluralCase]};class yd{}let T3=(()=>{class t extends yd{constructor(n){super(),this.locale=n}getPluralCategory(n,r){switch(JH(r||this.locale)(n)){case $e.Zero:return"zero";case $e.One:return"one";case $e.Two:return"two";case $e.Few:return"few";case $e.Many:return"many";default:return"other"}}}return t.\u0275fac=function(n){return new(n||t)(S(si))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();class N3{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _l=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(t){return t.name||typeof t}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=[];n.forEachOperation((i,s,o)=>{if(null==i.previousIndex){const a=this._viewContainer.createEmbeddedView(this._template,new N3(null,this._ngForOf,-1,-1),null===o?void 0:o),l=new tA(i,a);r.push(l)}else if(null==o)this._viewContainer.remove(null===s?void 0:s);else if(null!==s){const a=this._viewContainer.get(s);this._viewContainer.move(a,o);const l=new tA(i,a);r.push(l)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,s=this._viewContainer.length;i<s;i++){const o=this._viewContainer.get(i);o.context.index=i,o.context.count=s,o.context.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(n,r){n.context.$implicit=r.item}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Un),b(Pr),b(Ya))},t.\u0275dir=k({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class tA{constructor(e,n){this.record=e,this.view=n}}let vd=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new x3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nA("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nA("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(b(Un),b(Pr))},t.\u0275dir=k({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class x3{constructor(){this.$implicit=null,this.ngIf=null}}function nA(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${K(e)}'.`)}let sA=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({providers:[{provide:yd,useClass:T3}]}),t})();let aA=(()=>{class t{}return t.\u0275prov=H({token:t,providedIn:"root",factory:()=>new a$(S(ft),window)}),t})();class a${constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=lA(this.window.history)||lA(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function lA(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Dm extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(t){ad||(ad=t)}(new Dm)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=(yl=yl||document.querySelector("base"),yl?yl.getAttribute("href"):null);return null==n?null:function(t){Cd=Cd||document.createElement("a"),Cd.setAttribute("href",t);const e=Cd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Cd,yl=null;const uA=new te("TRANSITION_ID"),p$=[{provide:ul,useFactory:function(t,e,n){return()=>{n.get(Ao).donePromise.then(()=>{const r=cr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[uA,ft,de],multi:!0}];class Im{static init(){!function(t){zg=t}(new Im)}addToWindow(e){le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},le.getAllAngularTestabilities=()=>e.getAllTestabilities(),le.getAllAngularRootElements=()=>e.getAllRootElements(),le.frameworkStabilizers||(le.frameworkStabilizers=[]),le.frameworkStabilizers.push(r=>{const i=le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?cr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let g$=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();const vl=new te("EventManagerPlugins");let bd=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(S(vl),S(He))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();class Tm{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=cr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let dA=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})(),Cl=(()=>{class t extends dA{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(hA),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(hA))}}return t.\u0275fac=function(n){return new(n||t)(S(ft))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();function hA(t){cr().remove(t)}const Sm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Am=/%COMP%/g;function wd(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?wd(t,i,n):(i=i.replace(Am,t),n.push(i))}return n}function gA(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Rm=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Nm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ge.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new N$(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ge.ShadowDom:return new M$(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=wd(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(S(bd),S(Cl),S(cl))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();class Nm{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,n){return n?document.createElementNS(Sm[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Sm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Sm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(tn.DashCase|tn.Important)?e.style.setProperty(n,r,i&tn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&tn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,gA(r)):this.eventManager.addEventListener(e,n,gA(r))}}class N$ extends Nm{constructor(e,n,r,i){super(e),this.component=r;const s=wd(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function(t){return"_ngcontent-%COMP%".replace(Am,t)}(i+"-"+r.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Am,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class M$ extends Nm{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=wd(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let x$=(()=>{class t extends Tm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(S(ft))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();const yA=["alt","control","meta","shift"],U$={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vA={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},B$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let j$=(()=>{class t extends Tm{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>cr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(yA.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vA.hasOwnProperty(e)&&(e=vA[e]))}return U$[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yA.forEach(s=>{s!=i&&B$[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(S(ft))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();const z$=[{provide:jg,useValue:"browser"},{provide:eS,useValue:function(){Dm.makeCurrent(),Im.init()},multi:!0},{provide:ft,useFactory:function(){return function(t){Sf=t}(document),document},deps:[]}],K$=dS(xj,"browser",z$),Y$=[[],{provide:La,useValue:"root"},{provide:Gi,useFactory:function(){return new Gi},deps:[]},{provide:vl,useClass:x$,multi:!0,deps:[ft,He,jg]},{provide:vl,useClass:j$,multi:!0,deps:[ft]},[],{provide:Rm,useClass:Rm,deps:[bd,Cl,cl]},{provide:Uc,useExisting:Rm},{provide:dA,useExisting:Cl},{provide:Cl,useClass:Cl,deps:[ft]},{provide:qg,useClass:qg,deps:[He]},{provide:bd,useClass:bd,deps:[vl,He]},{provide:class{},useClass:g$,deps:[]},[]];let J$=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:cl,useValue:n.appId},{provide:uA,useExisting:cl},p$]}}}return t.\u0275fac=function(n){return new(n||t)(S(t,12))},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({providers:Y$,imports:[sA,Uj]}),t})();function Dd(t,e){return new Ie(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const l=dt(t[a]);let u=!1;n.add(l.subscribe({next:c=>{u||(u=!0,o++),i[a]=c},error:c=>n.error(c),complete:()=>{s++,(s===r||!u)&&(o===r&&n.next(e?e.reduce((c,d,h)=>(c[d]=i[h],c),{}):i),n.complete())}}))}})}"undefined"!=typeof window&&window;let EA=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(b(xr),b(it))},t.\u0275dir=k({type:t}),t})(),ts=(()=>{class t extends EA{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=pn(t)))(r||t)}}(),t.\u0275dir=k({type:t,features:[De]}),t})();const dr=new te("NgValueAccessor"),aW={provide:dr,useExisting:ve(()=>ns),multi:!0},uW=new te("CompositionEventMode");let ns=(()=>{class t extends EA{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=cr()?cr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(b(xr),b(it),b(uW,8))},t.\u0275dir=k({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&_e("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Se([aW]),De]}),t})();const It=new te("NgValidators"),ui=new te("NgAsyncValidators");function xA(t){return null!=t}function PA(t){const e=Ha(t)?dt(t):t;return Nc(e),e}function OA(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function kA(t,e){return e.map(n=>n(t))}function FA(t){return t.map(e=>function(t){return!t.validate}(e)?e:n=>e.validate(n))}function km(t){return null!=t?function(t){if(!t)return null;const e=t.filter(xA);return 0==e.length?null:function(n){return OA(kA(n,e))}}(FA(t)):null}function Fm(t){return null!=t?function(t){if(!t)return null;const e=t.filter(xA);return 0==e.length?null:function(n){return function(...t){if(1===t.length){const e=t[0];if(Pu(e))return Dd(e,null);if(af(e)&&Object.getPrototypeOf(e)===Object.prototype){const n=Object.keys(e);return Dd(n.map(r=>e[r]),n)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Dd(t=1===t.length&&Pu(t[0])?t[0]:t,null).pipe(pe(n=>e(...n)))}return Dd(t,null)}(kA(n,e).map(PA)).pipe(pe(OA))}}(FA(t)):null}function UA(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Lm(t){return t?Array.isArray(t)?t:[t]:[]}function Id(t,e){return Array.isArray(t)?t.includes(e):t===e}function HA(t,e){const n=Lm(e);return Lm(t).forEach(i=>{Id(n,i)||n.push(i)}),n}function $A(t,e){return Lm(e).filter(n=>!Id(t,n))}let WA=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=km(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,r){return!!this.control&&this.control.hasError(n,r)}getError(n,r){return this.control?this.control.getError(n,r):null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=k({type:t}),t})(),Vt=(()=>{class t extends WA{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=pn(t)))(r||t)}}(),t.\u0275dir=k({type:t,features:[De]}),t})();class di extends WA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GA{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let El=(()=>{class t extends GA{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(di,2))},t.\u0275dir=k({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Mc("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[De]}),t})(),Po=(()=>{class t extends GA{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(b(Vt,10))},t.\u0275dir=k({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Mc("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[De]}),t})();function bl(t,e){Bm(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&qA(t,e)})}(t,e),function(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&qA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Rd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Bm(t,e){const n=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(UA(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(UA(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Rd(e._rawValidators,i),Rd(e._rawAsyncValidators,i)}function qA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Md(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wl="VALID",xd="INVALID",Oo="PENDING",Dl="DISABLED";function $m(t){return(Gm(t)?t.validators:t)||null}function KA(t){return Array.isArray(t)?km(t):t||null}function Wm(t,e){return(Gm(e)?e.asyncValidators:t)||null}function YA(t){return Array.isArray(t)?Fm(t):t||null}function Gm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class qm{constructor(e,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=KA(this._rawValidators),this._composedAsyncValidatorFn=YA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wl}get invalid(){return this.status===xd}get pending(){return this.status==Oo}get disabled(){return this.status===Dl}get enabled(){return this.status!==Dl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=KA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=YA(e)}addValidators(e){this.setValidators(HA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($A(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($A(e,this._rawAsyncValidators))}hasValidator(e){return Id(this._rawValidators,e)}hasAsyncValidator(e){return Id(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Dl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=wl,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wl||this.status===Oo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dl:wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oo,this._hasOwnPendingAsyncValidator=!0;const n=PA(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=r instanceof zm?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof wW&&r.at(i)||null}),r}(this,e)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?Dl:this.errors?xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oo)?Oo:this._anyControlsHaveStatus(xd)?xd:wl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pd extends qm{constructor(e=null,n,r){super($m(n),Wm(r,n)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=null,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Md(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Md(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class zm extends qm{constructor(e,n,r){super($m(n),Wm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n instanceof Pd?n.value:n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class wW extends qm{constructor(e,n,r){super($m(n),Wm(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e instanceof Pd?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((n,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const DW={provide:Vt,useExisting:ve(()=>hi)},Il=(()=>Promise.resolve(null))();let hi=(()=>{class t extends Vt{constructor(n,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ke,this.form=new zm({},km(n),Fm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Il.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),bl(n.control,n),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Il.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),Md(this._directives,n)})}addFormGroup(n){Il.then(()=>{const r=this._findContainer(n.path),i=new zm({});(function(t,e){Bm(t,e)})(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Il.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Il.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return t.\u0275fac=function(n){return new(n||t)(b(It,10),b(ui,10))},t.\u0275dir=k({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){1&n&&_e("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Se([DW]),De]}),t})();const TW={provide:di,useExisting:ve(()=>ko)},XA=(()=>Promise.resolve(null))();let ko=(()=>{class t extends di{constructor(n,r,i,s){super(),this.control=new Pd,this._registered=!1,this.update=new Ke,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ns?n=s:function(t){return Object.getPrototypeOf(t.constructor)===ts}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in n&&this._updateDisabled(n),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){XA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1})})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=""===r||r&&"false"!==r;XA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(n){return new(n||t)(b(Vt,9),b(It,10),b(ui,10),b(dr,10))},t.\u0275dir=k({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Se([TW]),De,Ct]}),t})(),Fo=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=k({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const SW={provide:dr,useExisting:ve(()=>Qm),multi:!0};let Qm=(()=>{class t extends ts{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=pn(t)))(r||t)}}(),t.\u0275dir=k({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&_e("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Se([SW]),De]}),t})(),e0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({}),t})();const Km=new te("NgModelWithFormControlWarning"),FW={provide:dr,useExisting:ve(()=>Xm),multi:!0};function o0(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Xm=(()=>{class t extends ts{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const r=this._getOptionId(n);null==r&&this.setProperty("selectedIndex",-1);const i=o0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r):n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=pn(t)))(r||t)}}(),t.\u0275dir=k({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){1&n&&_e("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Se([FW]),De]}),t})(),a0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(o0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(it),b(xr),b(Xm,9))},t.\u0275dir=k({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const VW={provide:dr,useExisting:ve(()=>e_),multi:!0};function l0(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let e_=(()=>{class t extends ts{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let r;if(this.value=n,Array.isArray(n)){const i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{const i=[];if(void 0!==r.selectedOptions){const s=r.selectedOptions;for(let o=0;o<s.length;o++){const a=s.item(o),l=this._getOptionValue(a.value);i.push(l)}}else{const s=r.options;for(let o=0;o<s.length;o++){const a=s.item(o);if(a.selected){const l=this._getOptionValue(a.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){const r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){const r=function(t){return t.split(":")[0]}(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=pn(t)))(r||t)}}(),t.\u0275dir=k({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){1&n&&_e("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Se([VW]),De]}),t})(),u0=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(l0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(l0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(n){return new(n||t)(b(it),b(xr),b(e_,9))},t.\u0275dir=k({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const HW={provide:It,useExisting:ve(()=>rs),multi:!0};let rs=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(n){this._required=null!=n&&!1!==n&&"false"!=`${n}`,this._onChange&&this._onChange()}validate(n){return this.required?function(t){return function(t){return null==t||0===t.length}(t.value)?{required:!0}:null}(n):null}registerOnValidatorChange(n){this._onChange=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=k({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){2&n&&or("required",r.required?"":null)},inputs:{required:"required"},features:[Se([HW])]}),t})(),v0=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({imports:[[e0]]}),t})(),QW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({imports:[v0]}),t})(),KW=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Km,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({imports:[v0]}),t})();function z(...t){let e=t[t.length-1];return Lu(e)?(t.pop(),uf(t,e)):ff(t)}class pt extends wr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return n&&!n.closed&&e.next(this._value),n}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ms;return this._value}next(e){super.next(this._value=e)}}class YW extends Re{notifyNext(e,n,r,i,s){this.destination.next(n)}notifyError(e,n){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class JW extends Re{constructor(e,n,r){super(),this.parent=e,this.outerValue=n,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function ZW(t,e,n,r,i=new JW(t,n,r)){if(!i.closed)return e instanceof Ie?e.subscribe(i):lf(e)(i)}const C0={};class eG{constructor(e){this.resultSelector=e}call(e,n){return n.subscribe(new tG(e,this.resultSelector))}}class tG extends YW{constructor(e,n){super(e),this.resultSelector=n,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(C0),this.observables.push(e)}_complete(){const e=this.observables,n=e.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(let r=0;r<n;r++)this.add(ZW(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,n,r){const i=this.values,o=this.toRespond?i[r]===C0?--this.toRespond:this.toRespond:0;i[r]=n,0===o&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let n;try{n=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(n)}}const Od=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function t_(...t){return ca(1)(z(...t))}const Lo=new Ie(t=>t.complete());function n_(t){return t?function(t){return new Ie(e=>t.schedule(()=>e.complete()))}(t):Lo}function E0(t){return new Ie(e=>{let n;try{n=t()}catch(i){return void e.error(i)}return(n?dt(n):n_()).subscribe(e)})}function fi(t,e){return"function"==typeof e?n=>n.pipe(fi((r,i)=>dt(t(r,i)).pipe(pe((s,o)=>e(r,s,i,o))))):n=>n.lift(new iG(t))}class iG{constructor(e){this.project=e}call(e,n){return n.subscribe(new sG(e,this.project))}}class sG extends df{constructor(e,n){super(e),this.project=n,this.index=0}_next(e){let n;const r=this.index++;try{n=this.project(e,r)}catch(i){return void this.destination.error(i)}this._innerSub(n)}_innerSub(e){const n=this.innerSubscription;n&&n.unsubscribe();const r=new cf(this),i=this.destination;i.add(r),this.innerSubscription=hf(e,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const b0=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function r_(t){return e=>0===t?n_():e.lift(new oG(t))}class oG{constructor(e){if(this.total=e,this.total<0)throw new b0}call(e,n){return n.subscribe(new aG(e,this.total))}}class aG extends Re{constructor(e,n){super(e),this.total=n,this.count=0}_next(e){const n=this.total,r=++this.count;r<=n&&(this.destination.next(e),r===n&&(this.destination.complete(),this.unsubscribe()))}}function w0(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new uG(t,e,n))}}class uG{constructor(e,n,r=!1){this.accumulator=e,this.seed=n,this.hasSeed=r}call(e,n){return n.subscribe(new cG(e,this.accumulator,this.seed,this.hasSeed))}}class cG extends Re{constructor(e,n,r,i){super(e),this.accumulator=n,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const n=this.index++;let r;try{r=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function Vo(t,e){return function(r){return r.lift(new dG(t,e))}}class dG{constructor(e,n){this.predicate=e,this.thisArg=n}call(e,n){return n.subscribe(new hG(e,this.predicate,this.thisArg))}}class hG extends Re{constructor(e,n,r){super(e),this.predicate=n,this.thisArg=r,this.count=0}_next(e){let n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}n&&this.destination.next(e)}}function is(t){return function(n){const r=new fG(t),i=n.lift(r);return r.caught=i}}class fG{constructor(e){this.selector=e}call(e,n){return n.subscribe(new pG(e,this.selector,this.caught))}}class pG extends df{constructor(e,n,r){super(e),this.selector=n,this.caught=r}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const r=new cf(this);this.add(r);const i=hf(n,r);i!==r&&this.add(i)}}}function Tl(t,e){return ht(t,e,1)}function i_(t){return function(n){return 0===t?n_():n.lift(new gG(t))}}class gG{constructor(e){if(this.total=e,this.total<0)throw new b0}call(e,n){return n.subscribe(new mG(e,this.total))}}class mG extends Re{constructor(e,n){super(e),this.total=n,this.ring=new Array,this.count=0}_next(e){const n=this.ring,r=this.total,i=this.count++;n.length<r?n.push(e):n[i%r]=e}_complete(){const e=this.destination;let n=this.count;if(n>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<r;s++){const o=n++%r;e.next(i[o])}}e.complete()}}function D0(t=vG){return e=>e.lift(new _G(t))}class _G{constructor(e){this.errorFactory=e}call(e,n){return n.subscribe(new yG(e,this.errorFactory))}}class yG extends Re{constructor(e,n){super(e),this.errorFactory=n,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(n){e=n}this.destination.error(e)}}}function vG(){return new Od}function I0(t=null){return e=>e.lift(new CG(t))}class CG{constructor(e){this.defaultValue=e}call(e,n){return n.subscribe(new EG(e,this.defaultValue))}}class EG extends Re{constructor(e,n){super(e),this.defaultValue=n,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Uo(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vo((i,s)=>t(i,s,r)):Fu,r_(1),n?I0(e):D0(()=>new Od))}function pi(){}function an(t,e,n){return function(i){return i.lift(new wG(t,e,n))}}class wG{constructor(e,n,r){this.nextOrObserver=e,this.error=n,this.complete=r}call(e,n){return n.subscribe(new DG(e,this.nextOrObserver,this.error,this.complete))}}class DG extends Re{constructor(e,n,r,i){super(e),this._tapNext=pi,this._tapError=pi,this._tapComplete=pi,this._tapError=r||pi,this._tapComplete=i||pi,br(n)?(this._context=this,this._tapNext=n):n&&(this._context=n,this._tapNext=n.next||pi,this._tapError=n.error||pi,this._tapComplete=n.complete||pi)}_next(e){try{this._tapNext.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(n){return void this.destination.error(n)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class TG{constructor(e){this.callback=e}call(e,n){return n.subscribe(new SG(e,this.callback))}}class SG extends Re{constructor(e,n){super(e),this.add(new ke(n))}}class Lr{constructor(e,n){this.id=e,this.url=n}}class s_ extends Lr{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sl extends Lr{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class T0 extends Lr{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class AG extends Lr{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RG extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NG extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MG extends Lr{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xG extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PG extends Lr{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S0{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class A0{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OG{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kG{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FG{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LG{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class R0{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const X="primary";class VG{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Bo(t){return new VG(t)}const N0="ngNavigationCancelingError";function o_(t){const e=Error("NavigationCancelingError: "+t);return e[N0]=!0,e}function BG(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!M0(t[i],e[i]))return!1;return!0}function M0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function x0(t){return Array.prototype.concat.apply([],t)}function P0(t){return t.length>0?t[t.length-1]:null}function gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function fr(t){return Nc(t)?t:Ha(t)?dt(Promise.resolve(t)):z(t)}const $G={exact:function F0(t,e,n){if(!os(t.segments,e.segments)||!kd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!F0(t.children[r],e.children[r],n))return!1;return!0},subset:L0},O0={exact:function(t,e){return hr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>M0(t[n],e[n]))},ignored:()=>!0};function k0(t,e,n){return $G[n.paths](t.root,e.root,n.matrixParams)&&O0[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function L0(t,e,n){return V0(t,e,e.segments,n)}function V0(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!os(i,n)||e.hasChildren()||!kd(i,n,r))}if(t.segments.length===n.length){if(!os(t.segments,n)||!kd(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!L0(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(os(t.segments,i)&&kd(t.segments,i,r)&&t.children[X])&&V0(t.children[X],e,s,r)}}function kd(t,e,n){return e.every((r,i)=>O0[n](t[i].parameters,r.parameters))}class ss{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bo(this.queryParams)),this._queryParamMap}toString(){return QG.serialize(this)}}class re{constructor(e,n){this.segments=e,this.children=n,this.parent=null,gt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fd(this)}}class Al{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Bo(this.parameters)),this._parameterMap}toString(){return H0(this)}}function os(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class a_{}class U0{parse(e){const n=new r8(e);return new ss(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Rl(e.root,!0)}`,r=function(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ld(n)}=${Ld(i)}`).join("&"):`${Ld(n)}=${Ld(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const QG=new U0;function Fd(t){return t.segments.map(e=>H0(e)).join("/")}function Rl(t,e){if(!t.hasChildren())return Fd(t);if(e){const n=t.children[X]?Rl(t.children[X],!1):"",r=[];return gt(t.children,(i,s)=>{s!==X&&r.push(`${s}:${Rl(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function(t,e){let n=[];return gt(t.children,(r,i)=>{i===X&&(n=n.concat(e(r,i)))}),gt(t.children,(r,i)=>{i!==X&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===X?[Rl(t.children[X],!1)]:[`${i}:${Rl(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[X]?`${Fd(t)}/${n[0]}`:`${Fd(t)}/(${n.join("//")})`}}function B0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ld(t){return B0(t).replace(/%3B/gi,";")}function l_(t){return B0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vd(t){return decodeURIComponent(t)}function j0(t){return Vd(t.replace(/\+/g,"%20"))}function H0(t){return`${l_(t.path)}${function(t){return Object.keys(t).map(e=>`;${l_(e)}=${l_(t[e])}`).join("")}(t.parameters)}`}const ZG=/^[^\/()?;=#]+/;function Ud(t){const e=t.match(ZG);return e?e[0]:""}const XG=/^[^=?&#]+/,t8=/^[^?&#]+/;class r8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[X]=new re(e,n)),r}parseSegment(){const e=Ud(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Al(Vd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Ud(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ud(this.remaining);i&&(r=i,this.capture(r))}e[Vd(n)]=Vd(r)}parseQueryParam(e){const n=function(t){const e=t.match(XG);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function(t){const e=t.match(t8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=j0(n),s=j0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ud(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=X);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[X]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class $0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=u_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=u_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=c_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return c_(e,this._root).map(n=>n.value)}}function u_(t,e){if(t===e.value)return e;for(const n of e.children){const r=u_(t,n);if(r)return r}return null}function c_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=c_(t,n);if(r.length)return r.unshift(e),r}return[]}class Vr{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Nl(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class W0 extends $0{constructor(e,n){super(e),this.snapshot=n,d_(this,e)}toString(){return this.snapshot.toString()}}function G0(t,e){const n=function(t,e){const o=new Bd([],{},{},"",{},X,e,null,t.root,-1,{});return new z0("",new Vr(o,[]))}(t,e),r=new pt([new Al("",{})]),i=new pt({}),s=new pt({}),o=new pt({}),a=new pt(""),l=new gi(r,i,o,a,s,X,e,n.root);return l.snapshot=n.root,new W0(new Vr(l,[]),n)}class gi{constructor(e,n,r,i,s,o,a,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(e=>Bo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(e=>Bo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function q0(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Bd{constructor(e,n,r,i,s,o,a,l,u,c,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class z0 extends $0{constructor(e,n){super(n),this.url=e,d_(this,n)}toString(){return Q0(this._root)}}function d_(t,e){e.value._routerState=t,e.children.forEach(n=>d_(t,n))}function Q0(t){const e=t.children.length>0?` { ${t.children.map(Q0).join(", ")} } `:"";return`${t.value}${e}`}function h_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),hr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),hr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function f_(t,e){const n=hr(t.params,e.params)&&function(t,e){return os(t,e)&&t.every((n,r)=>hr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||f_(t.parent,e.parent))}function jd(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jd(t,r,i);return jd(t,r)})}(t,e,n);return new Vr(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return K0(e,o),o}}const r=function(t){return new gi(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>jd(t,s));return new Vr(r,i)}}function K0(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)K0(t.children[n],e.children[n])}function Hd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ml(t){return"object"==typeof t&&null!=t&&t.outlets}function p_(t,e,n,r,i){let s={};return r&&gt(r,(o,a)=>{s[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new ss(n.root===t?e:Y0(n.root,t,e),s,i)}function Y0(t,e,n){const r={};return gt(t.children,(i,s)=>{r[s]=i===e?n:Y0(i,e,n)}),new re(t.segments,r)}class J0{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hd(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Ml);if(i&&i!==P0(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class g_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Z0(t,e,n){if(t||(t=new re([],{})),0===t.segments.length&&t.hasChildren())return $d(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Ml(a))break;const l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!eR(l,u,o))return s;r+=2}else{if(!eR(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[X]=new re(t.segments.slice(r.pathIndex),t.children),$d(s,0,i)}return r.match&&0===i.length?new re(t.segments,{}):r.match&&!t.hasChildren()?m_(t,e,n):r.match?$d(t,0,i):m_(t,e,n)}function $d(t,e,n){if(0===n.length)return new re(t.segments,{});{const r=function(t){return Ml(t[0])?t[0].outlets:{[X]:t}}(n),i={};return gt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Z0(t.children[o],e,s))}),gt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new re(t.segments,i)}}function m_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Ml(s)){const l=g8(s.outlets);return new re(r,l)}if(0===i&&Hd(n[0])){r.push(new Al(t.segments[e].path,X0(n[0]))),i++;continue}const o=Ml(s)?s.outlets[X]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Hd(a)?(r.push(new Al(o,X0(a))),i+=2):(r.push(new Al(o,{})),i++)}return new re(r,{})}function g8(t){const e={};return gt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=m_(new re([],{}),0,n))}),e}function X0(t){const e={};return gt(t,(n,r)=>e[r]=`${n}`),e}function eR(t,e,n){return t==n.path&&hr(e,n.parameters)}class _8{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),h_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Nl(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),gt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:s})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Nl(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Nl(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new LG(s.value.snapshot))}),e.children.length&&this.forwardEvent(new kG(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(h_(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),tR(a.route)}else{const a=function(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=l,o.outlet&&o.outlet.activateWith(i,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}function tR(t){h_(t.value),t.children.forEach(tR)}class __{constructor(e,n){this.routes=e,this.module=n}}function mi(t){return"function"==typeof t}function as(t){return t instanceof ss}const xl=Symbol("INITIAL_VALUE");function Pl(){return fi(t=>function(...t){let e,n;return Lu(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Pu(t[0])&&(t=t[0]),ff(t,n).lift(new eG(e))}(t.map(e=>e.pipe(r_(1),function(...t){const e=t[t.length-1];return Lu(e)?(t.pop(),n=>t_(t,n,e)):n=>t_(t,n)}(xl)))).pipe(w0((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==xl?i:(s===xl&&(r=!0),r||!1!==s&&o!==n.length-1&&!as(s)?i:s),e)},xl),Vo(e=>e!==xl),pe(e=>as(e)?e:!0===e),r_(1)))}let nR=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Rt({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&q(0,"router-outlet")},directives:function(){return[Jd]},encapsulation:2}),t})();function rR(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];D8(r,I8(e,r))}}function D8(t,e){t.children&&rR(t.children,e)}function I8(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function y_(t){const e=t.children&&t.children.map(y_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=nR),n}function wn(t){return t.outlet||X}function iR(t,e){const n=t.filter(r=>wn(r)===e);return n.push(...t.filter(r=>wn(r)!==e)),n}const sR={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wd(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},sR):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||BG)(n,t,e);if(!s)return Object.assign({},sR);const o={};gt(s.posParams,(l,u)=>{o[u]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Gd(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(r=>qd(t,e,r)&&wn(r)!==X)}(t,n,r)){const o=new re(e,function(t,e,n,r){const i={};i[X]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&wn(s)!==X){const o=new re([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[wn(s)]=o}return i}(t,e,r,new re(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(r=>qd(t,e,r))}(t,n,r)){const o=new re(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(qd(t,n,a)&&!i[wn(a)]){const l=new re([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[wn(a)]=l}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new re(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function qd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function oR(t,e,n,r){return!!(wn(t)===r||r!==X&&qd(e,n,t))&&("**"===t.path||Wd(e,t,n).matched)}function aR(t,e,n){return 0===e.length&&!t.children[n]}class Ol{constructor(e){this.segmentGroup=e||null}}class lR{constructor(e){this.urlTree=e}}function zd(t){return new Ie(e=>e.error(new Ol(t)))}function uR(t){return new Ie(e=>e.error(new lR(t)))}function N8(t){return new Ie(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class P8{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(ur)}apply(){const e=Gd(this.urlTree.root,[],[],this.config).segmentGroup,n=new re(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,X).pipe(pe(s=>this.createUrlTree(v_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(is(s=>{if(s instanceof lR)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Ol?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,X).pipe(pe(i=>this.createUrlTree(v_(i),e.queryParams,e.fragment))).pipe(is(i=>{throw i instanceof Ol?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new re([],{[X]:e}):e;return new ss(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(pe(s=>new re([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dt(i).pipe(Tl(s=>{const o=r.children[s],a=iR(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(pe(l=>({segment:l,outlet:s})))}),w0((s,o)=>(s[o.outlet]=o.segment,s),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Vo((i,s)=>t(i,s,r)):Fu,i_(1),n?I0(e):D0(()=>new Od))}())}expandSegment(e,n,r,i,s,o){return dt(r).pipe(Tl(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(is(u=>{if(u instanceof Ol)return z(null);throw u}))),Uo(a=>!!a),is((a,l)=>{if(a instanceof Od||"EmptyError"===a.name){if(aR(n,i,s))return z(new re([],{}));throw new Ol(n)}throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return oR(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):zd(n):zd(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?uR(s):this.lineralizeSegments(r,s).pipe(ht(o=>{const a=new re(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,lastChild:u,positionalParamSegments:c}=Wd(n,i,s);if(!a)return zd(n);const d=this.applyRedirectCommands(l,i.redirectTo,c);return i.redirectTo.startsWith("/")?uR(d):this.lineralizeSegments(i,d).pipe(ht(h=>this.expandSegment(e,n,r,h.concat(s.slice(u)),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?z(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(pe(h=>(r._loadedConfig=h,new re(i,{})))):z(new re(i,{}));const{matched:o,consumedSegments:a,lastChild:l}=Wd(n,r,i);if(!o)return zd(n);const u=i.slice(l);return this.getChildConfig(e,r,i).pipe(ht(d=>{const h=d.module,f=d.routes,{segmentGroup:p,slicedSegments:m}=Gd(n,a,u,f),g=new re(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(pe(M=>new re(a,M)));if(0===f.length&&0===m.length)return z(new re(a,{}));const E=wn(r)===s;return this.expandSegment(h,g,f,m,E?X:s,!0).pipe(pe(T=>new re(a.concat(T.segments),T.children)))}))}getChildConfig(e,n,r){return n.children?z(new __(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?z(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(ht(i=>i?this.configLoader.load(e.injector,n).pipe(pe(s=>(n._loadedConfig=s,s))):function(t){return new Ie(e=>e.error(o_(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(n))):z(new __([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;if(!i||0===i.length)return z(!0);const s=i.map(o=>{const a=e.get(o);let l;if(function(t){return t&&mi(t.canLoad)}(a))l=a.canLoad(n,r);else{if(!mi(a))throw new Error("Invalid CanLoad guard");l=a(n,r)}return fr(l)});return z(s).pipe(Pl(),an(o=>{if(!as(o))return;const a=o_(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),pe(o=>!0===o))}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[X])return N8(e.redirectTo);i=i.children[X]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ss(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return gt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return gt(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function v_(t){const e={};for(const r of Object.keys(t.children)){const s=v_(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function(t){if(1===t.numberOfChildren&&t.children[X]){const e=t.children[X];return new re(t.segments.concat(e.segments),e.children)}return t}(new re(t.segments,e))}class cR{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qd{constructor(e,n){this.component=e,this.route=n}}function F8(t,e,n){const r=t._root;return kl(r,e?e._root:null,n,[r.value])}function Kd(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function kl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Nl(e);return t.children.forEach(o=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!os(t.url,e.url);case"pathParamsOrQueryParamsChange":return!os(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!f_(t,e)||!hr(t.queryParams,e.queryParams);default:return!f_(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new cR(r)):(s.data=o.data,s._resolvedData=o._resolvedData),kl(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qd(a.outlet.component,o))}else o&&Fl(e,a,i),i.canActivateChecks.push(new cR(r)),kl(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),gt(s,(o,a)=>Fl(o,n.getContext(a),i)),i}function Fl(t,e,n){const r=Nl(t),i=t.value;gt(r,(s,o)=>{Fl(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Qd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class K8{}function dR(t){return new Ie(e=>e.error(t))}class J8{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Gd(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,X);if(null===n)return null;const r=new Bd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},X,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Vr(r,n),s=new z0(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=q0(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=iR(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;r.push(...l)}const i=hR(r);return function(t){t.sort((e,n)=>e.value.outlet===X?-1:n.value.outlet===X?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return aR(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!oR(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?P0(r).parameters:{};s=new Bd(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gR(e),wn(e),e.component,e,fR(n),pR(n)+r.length,mR(e))}else{const f=Wd(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=r.slice(f.lastChild),s=new Bd(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gR(e),wn(e),e.component,e,fR(n),pR(n)+o.length,mR(e))}const l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:u,slicedSegments:c}=Gd(n,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const f=this.processChildren(l,u);return null===f?null:[new Vr(s,f)]}if(0===l.length&&0===c.length)return[new Vr(s,[])];const d=wn(e)===i,h=this.processSegment(l,u,c,d?X:i);return null===h?null:[new Vr(s,h)]}}function e4(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hR(t){const e=[],n=new Set;for(const r of t){if(!e4(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=hR(r.children);e.push(new Vr(r.value,i))}return e.filter(r=>!n.has(r))}function fR(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pR(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function gR(t){return t.data||{}}function mR(t){return t.resolve||{}}function C_(t){return fi(e=>{const n=t(e);return n?dt(n).pipe(pe(()=>e)):z(e)})}class l4 extends class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const E_=new te("ROUTES");class _R{constructor(e,n,r,i){this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new __(x0(o.injector.get(E_,void 0,P.Self|P.Optional)).map(y_),o)}),is(s=>{throw n._loader$=void 0,s}));return n._loader$=new cE(i,()=>new wr).pipe(pf()),n._loader$}loadModuleFactory(e){return"string"==typeof e?dt(this.loader.load(e)):fr(e()).pipe(ht(n=>n instanceof XI?z(n):dt(this.compiler.compileModuleAsync(n))))}}class u4{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new jo,this.attachRef=null}}class jo{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new u4,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}class d4{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function h4(t){throw t}function f4(t,e,n){return e.parse("/")}function yR(t,e){return z(null)}const p4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},g4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Je=(()=>{class t{constructor(n,r,i,s,o,a,l,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wr,this.errorHandler=h4,this.malformedUriErrorHandler=f4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yR,afterPreactivation:yR},this.urlHandlingStrategy=new d4,this.routeReuseStrategy=new l4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ur),this.console=o.get(Kc);const h=o.get(He);this.isNgZoneEnabled=h instanceof He&&He.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new ss(new re([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _R(a,l,f=>this.triggerEvent(new S0(f)),f=>this.triggerEvent(new A0(f))),this.routerState=G0(this.currentUrlTree,this.rootComponentType),this.transitions=new pt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(Vo(i=>0!==i.id),pe(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),fi(i=>{let s=!1,o=!1;return z(i).pipe(an(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fi(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Yd(a.source)&&(this.browserUrlTree=a.extractedUrl),z(a).pipe(fi(d=>{const h=this.transitions.getValue();return r.next(new s_(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Lo:Promise.resolve(d)}),function(t,e,n,r){return fi(i=>function(t,e,n,r,i){return new P8(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(pe(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),an(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function(t,e,n,r,i){return ht(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new J8(t,e,n,r,i,s).recognize();return null===o?dR(new K8):z(o)}catch(o){return dR(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(pe(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),an(d=>{"eager"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(d.urlAfterRedirects,d),this.browserUrlTree=d.urlAfterRedirects);const h=new RG(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,E=new s_(h,this.serializeUrl(f),p,m);r.next(E);const v=G0(f,this.rootComponentType).snapshot;return z(Object.assign(Object.assign({},a),{targetSnapshot:v,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,this.browserUrlTree=a.urlAfterRedirects,a.resolve(null),Lo}),C_(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),an(a=>{const l=new NG(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),pe(a=>Object.assign(Object.assign({},a),{guards:F8(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(t,e){return ht(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?z(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return dt(t).pipe(ht(i=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?z(s.map(a=>{const l=Kd(a,e,i);let u;if(function(t){return t&&mi(t.canDeactivate)}(l))u=fr(l.canDeactivate(t,e,n,r));else{if(!mi(l))throw new Error("Invalid CanDeactivate guard");u=fr(l(t,e,n,r))}return u.pipe(Uo())})).pipe(Pl()):z(!0)}(i.component,i.route,n,e,r)),Uo(i=>!0!==i,!0))}(o,r,i,t).pipe(ht(a=>a&&function(t){return"boolean"==typeof t}(a)?function(t,e,n,r){return dt(e).pipe(Tl(i=>t_(function(t,e){return null!==t&&e&&e(new OG(t)),z(!0)}(i.route.parent,r),function(t,e){return null!==t&&e&&e(new FG(t)),z(!0)}(i.route,r),function(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>E0(()=>z(o.guards.map(l=>{const u=Kd(l,o.node,n);let c;if(function(t){return t&&mi(t.canActivateChild)}(u))c=fr(u.canActivateChild(r,t));else{if(!mi(u))throw new Error("Invalid CanActivateChild guard");c=fr(u(r,t))}return c.pipe(Uo())})).pipe(Pl())));return z(s).pipe(Pl())}(t,i.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(s=>E0(()=>{const o=Kd(s,e,n);let a;if(function(t){return t&&mi(t.canActivate)}(o))a=fr(o.canActivate(e,t));else{if(!mi(o))throw new Error("Invalid CanActivate guard");a=fr(o(e,t))}return a.pipe(Uo())}));return z(i).pipe(Pl())}(t,i.route,n))),Uo(i=>!0!==i,!0))}(r,s,t,e):z(a)),pe(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),an(a=>{if(as(a.guardsResult)){const u=o_(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new MG(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Vo(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),C_(a=>{if(a.guards.canActivateChecks.length)return z(a).pipe(an(l=>{const u=new xG(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),fi(l=>{let u=!1;return z(l).pipe(function(t,e){return ht(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let s=0;return dt(i).pipe(Tl(o=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return z({});const s={};return dt(i).pipe(ht(o=>function(t,e,n,r){const i=Kd(t,e,r);return fr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(an(a=>{s[o]=a}))),i_(1),ht(()=>Object.keys(s).length===i.length?z(s):Lo))}(t._resolve,t,e,r).pipe(pe(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),q0(t,n).resolve),null)))}(o.route,r,t,e)),an(()=>s++),i_(1),ht(o=>s===i.length?z(n):Lo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),an({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),an(l=>{const u=new PG(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),C_(a=>{const{targetSnapshot:l,id:u,extractedUrl:c,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:c,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),pe(a=>{const l=function(t,e,n){const r=jd(t,e._root,n?n._root:void 0);return new W0(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),an(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>pe(r=>(new _8(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),an({next(){s=!0},complete(){s=!0}}),function(t){return e=>e.lift(new TG(t))}(()=>{var a;if(!s&&!o){const l=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,l)):this.cancelNavigationTransition(i,l)}(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),is(a=>{if(o=!0,function(t){return t&&t[N0]}(a)){const l=as(a.url);l||(this.navigated=!0,this.restoreHistory(i,!0));const u=new T0(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(u),l?setTimeout(()=>{const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yd(i.source)};this.scheduleNavigation(c,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const l=new AG(i.id,this.serializeUrl(i.extractedUrl),a);r.next(l);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return Lo}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}getTransition(){const n=this.transitions.value;return n.urlAfterRedirects=this.browserUrlTree,n}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r=this.extractLocationChangeInfoFromEvent(n);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:s,urlTree:o}=r,a={replaceUrl:!0};if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(a.state=l)}this.scheduleNavigation(o,i,s,a)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(n){var r;return{source:"popstate"===n.type?"popstate":"hashchange",urlTree:this.parseUrl(n.url),state:(null===(r=n.state)||void 0===r?void 0:r.navigationId)?n.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(n,r){if(!n)return!0;const i=r.urlTree.toString()===n.urlTree.toString();return r.transitionId!==n.transitionId||!i||!("hashchange"===r.source&&"popstate"===n.source||"popstate"===r.source&&"hashchange"===n.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){rR(n),this.config=n.map(y_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=i||this.routerState.root,c=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function(t,e,n,r,i){if(0===n.length)return p_(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new J0(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return gt(s.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new J0(n,e,r)}(n);if(s.toRoot())return p_(e.root,new re([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new g_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new g_(s,s===e.root,0)}const r=Hd(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new g_(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?$d(o.segmentGroup,o.index,s.commands):Z0(o.segmentGroup,o.index,s.commands);return p_(o.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,n,d,null!=c?c:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=as(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},p4):!1===r?Object.assign({},g4):r,as(n))return k0(this.currentUrlTree,n,i);const s=this.parseUrl(n);return k0(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Sl(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);const u=this.getTransition(),c=Yd(r)&&u&&!Yd(u.source),f=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===n.toString();if(c&&f)return Promise.resolve(!0);let p,m,g;o?(p=o.resolve,m=o.reject,g=o.promise):g=new Promise((T,M)=>{p=T,m=M});const E=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),v=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):v=0,this.setTransition({id:E,targetPageId:v,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:p,reject:m,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(T=>Promise.reject(T))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new T0(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)(S(ac),S(a_),S(jo),S(ld),S(de),S(Jc),S(Ji),S(void 0))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();function Yd(t){return"imperative"!==t}let Ho=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.commands=[],this.onChanges=new wr,null==i&&s.setAttribute(o.nativeElement,"tabindex","0")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){this.commands=null!=n?Array.isArray(n)?n:[n]:[]}onClick(){const n={skipLocationChange:$o(this.skipLocationChange),replaceUrl:$o(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:$o(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(b(Je),b(gi),Ca("tabindex"),b(xr),b(it))},t.\u0275dir=k({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&_e("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ct]}),t})();function $o(t){return""===t||!!t}let Jd=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.name=s||X,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new v4(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(b(jo),b(Un),b(Qi),Ca("name"),b(dg))},t.\u0275dir=k({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class v4{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===jo?this.childContexts:this.parent.get(e,n)}}class vR{}class CR{preload(e,n){return z(null)}}let ER=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=new _R(r,i,u=>n.triggerEvent(new S0(u)),u=>n.triggerEvent(new A0(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Vo(n=>n instanceof Sl),Tl(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(ur);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return dt(i).pipe(ca(),pe(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?z(r._loadedConfig):this.loader.load(n.injector,r)).pipe(ht(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(S(Je),S(Jc),S(Ji),S(de),S(vR))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})(),w_=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof s_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Sl&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof R0&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new R0(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(S(Je),S(aA),S(void 0))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();const ls=new te("ROUTER_CONFIGURATION"),bR=new te("ROUTER_FORROOT_GUARD"),E4=[ld,{provide:a_,useClass:U0},{provide:Je,useFactory:function(t,e,n,r,i,s,o,a={},l,u){const c=new Je(null,t,e,n,r,i,s,x0(o));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(d=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(f=console.groupEnd)||void 0===f||f.call(console)}),c},deps:[a_,jo,ld,de,Jc,Ji,E_,ls,[class{},new Ht],[class{},new Ht]]},jo,{provide:gi,useFactory:function(t){return t.routerState.root},deps:[Je]},{provide:Jc,useClass:bj},ER,CR,class{preload(e,n){return n().pipe(is(()=>z(null)))}},{provide:ls,useValue:{enableTracing:!1}}];function b4(){return new Qg("Router",Je)}let D_=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[E4,wR(n),{provide:bR,useFactory:I4,deps:[[Je,new Ht,new ti]]},{provide:ls,useValue:r||{}},{provide:xo,useFactory:D4,deps:[es,[new Qs(dm),new Ht],ls]},{provide:w_,useFactory:w4,deps:[Je,aA,ls]},{provide:vR,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:CR},{provide:Qg,multi:!0,useFactory:b4},[I_,{provide:ul,multi:!0,useFactory:R4,deps:[I_]},{provide:DR,useFactory:N4,deps:[I_]},{provide:tS,multi:!0,useExisting:DR}]]}}static forChild(n){return{ngModule:t,providers:[wR(n)]}}}return t.\u0275fac=function(n){return new(n||t)(S(bR,8),S(Je,8))},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({}),t})();function w4(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new w_(t,e,n)}function D4(t,e,n={}){return n.useHash?new HH(t,e):new GS(t,e)}function I4(t){return"guarded"}function wR(t){return[{provide:UO,multi:!0,useValue:t},{provide:E_,multi:!0,useValue:t}]}let I_=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new wr}appInitializer(){return this.injector.get(UH,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(Je),o=this.injector.get(ls);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?z(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(ls),i=this.injector.get(ER),s=this.injector.get(w_),o=this.injector.get(Je),a=this.injector.get(Ro);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(S(de))},t.\u0275prov=H({token:t,factory:t.\u0275fac}),t})();function R4(t){return t.appInitializer.bind(t)}function N4(t){return t.bootstrapListener.bind(t)}const DR=new te("Router Initializer");function IR(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function C(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){IR(s,r,i,o,a,"next",l)}function a(l){IR(s,r,i,o,a,"throw",l)}o(void 0)})}}const D=function(t,e){if(!t)throw Wo(e)},Wo=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},TR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},S_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new P4;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SR=function(t){const e=TR(t);return S_.encodeByteArray(e,!0)},Zd=function(t){return SR(t).replace(/\./g,"")},Xd=function(t){try{return S_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function O4(t){return AR(void 0,t)}function AR(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!k4(n)||(t[n]=AR(t[n],e[n]));return t}function k4(t){return"__proto__"!==t}const eh=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&Xd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},RR=t=>{var e,n;return null===(n=null===(e=eh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},NR=t=>{var e;return null===(e=eh())||void 0===e?void 0:e[`_${t}`]};class Ll{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function at(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function A_(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function MR(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vl.prototype.create)}}class Vl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function(t,e){return t.replace(Y4,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new _i(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Y4=/\{\$([^}]+)}/g;function Ul(t){return JSON.parse(t)}function Ze(t){return JSON.stringify(t)}const th=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ul(Xd(s[0])||""),n=Ul(Xd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}};function pr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Go(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function R_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function nh(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function rh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xR(s)&&xR(o)){if(!rh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xR(t){return null!==t&&"object"==typeof t}function Bl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class X4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class t6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(e)?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=N_),void 0===i.error&&(i.error=N_),void 0===i.complete&&(i.complete=N_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N_(){}function us(t,e){return`${t} failed: ${e} argument `}const ih=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function mt(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ds="[DEFAULT]";class u6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ll;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return C(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function c6(t){return t===ds?void 0:t}class h6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new u6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const M_=[];var he=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(he||(he={})),he))();const PR={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},f6=he.INFO,p6={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},g6=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=p6[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class x_{constructor(e){this.name=e,this._logLevel=f6,this._logHandler=g6,this._userLogHandler=null,M_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}let OR,kR;const FR=new WeakMap,P_=new WeakMap,LR=new WeakMap,O_=new WeakMap,k_=new WeakMap;let F_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return P_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||LR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function w6(t){return"function"==typeof t?function(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kR||(kR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(L_(this),e),yi(FR.get(this))}:function(...e){return yi(t.apply(L_(this),e))}:function(e,...n){const r=t.call(L_(this),e,...n);return LR.set(r,e.sort?e.sort():[e]),yi(r)}}(t):(t instanceof IDBTransaction&&function(t){if(P_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});P_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,OR||(OR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,F_):t)}function yi(t){if(t instanceof IDBRequest)return function(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FR.set(n,t)}).catch(()=>{}),k_.set(e,t),e}(t);if(O_.has(t))return O_.get(t);const e=w6(t);return e!==t&&(O_.set(t,e),k_.set(e,t)),e}const L_=t=>k_.get(t),I6=["get","getKey","getAll","getAllKeys","count"],T6=["put","add","delete","clear"],V_=new Map;function VR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(V_.get(e))return V_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=T6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!I6.includes(n))return;const s=function(){var o=C(function*(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(yield Promise.all([c[n](...l),i&&u.done]))[0]});return function(l){return o.apply(this,arguments)}}();return V_.set(e,s),s}F_=(t=>tP(eP({},t),{get:(e,n,r)=>VR(e,n)||t.get(e,n,r),has:(e,n)=>!!VR(e,n)||t.has(e,n)}))(F_);class S6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const U_="@firebase/app",hs=new x_("@firebase/app"),sh="[DEFAULT]",eq={[U_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fs=new Map,oh=new Map;function tq(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qo(t){const e=t.name;if(oh.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,t);for(const n of fs.values())tq(n,t);return!0}function ah(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Br=new Vl("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class rq{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}const $l="9.18.0";function BR(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:sh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=eh())||void 0===t?void 0:t.config})()),!n)throw Br.create("no-options");const s=fs.get(i);if(s){if(rh(n,s.options)&&rh(r,s.config))return s;throw Br.create("duplicate-app",{appName:i})}const o=new h6(i);for(const l of oh.values())o.addComponent(l);const a=new rq(n,r,o);return fs.set(i,a),a}function jR(t=sh){const e=fs.get(t);if(!e&&t===sh)return BR();if(!e)throw Br.create("no-app",{appName:t});return e}function vi(t,e,n){var r;let i=null!==(r=eq[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void hs.warn(a.join(" "))}qo(new cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Wl="firebase-heartbeat-store";let j_=null;function HR(){return j_||(j_=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=yi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(yi(o.result),l.oldVersion,l.newVersion,yi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Wl)}}).catch(t=>{throw Br.create("idb-open",{originalErrorMessage:t.message})})),j_}function H_(){return H_=C(function*(t){try{return(yield HR()).transaction(Wl).objectStore(Wl).get(WR(t))}catch(e){if(e instanceof _i)hs.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});hs.warn(n.message)}}}),H_.apply(this,arguments)}function $R(t,e){return $_.apply(this,arguments)}function $_(){return $_=C(function*(t,e){try{const r=(yield HR()).transaction(Wl,"readwrite");return yield r.objectStore(Wl).put(e,WR(t)),r.done}catch(n){if(n instanceof _i)hs.warn(n.message);else{const r=Br.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});hs.warn(r.message)}}}),$_.apply(this,arguments)}function WR(t){return`${t.name}!${t.options.appId}`}class uq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return C(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=GR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return C(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=GR(),{heartbeatsToSend:r,unsentEntries:i}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Zd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function GR(){return(new Date).toISOString().substring(0,10)}class dq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(function*(){return!!function(){try{return"object"==typeof indexedDB}catch(t){return!1}}()&&new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}}).then(()=>!0).catch(()=>!1)})()}read(){var e=this;return C(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(t){return H_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $R(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return C(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return $R(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qR(t){return Zd(JSON.stringify({version:2,heartbeats:t})).length}function QR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}qo(new cs("platform-logger",e=>new S6(e),"PRIVATE")),qo(new cs("heartbeat",e=>new uq(e),"PRIVATE")),vi(U_,"0.9.5",""),vi(U_,"0.9.5","esm2017"),vi("fire-js",""),vi("firebase","9.18.0","app");const _q=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ZR=new Vl("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),XR=new x_("@firebase/auth");function uh(t,...e){XR.logLevel<=he.ERROR&&XR.error(`Auth (${$l}): ${t}`,...e)}function Wt(t,...e){throw G_(t,...e)}function gr(t,...e){return G_(t,...e)}function eN(t,e,n){const r=Object.assign(Object.assign({},_q()),{[e]:n});return new Vl("auth","Firebase",r).create(e,{appName:t.name})}function G_(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ZR.create(t,...e)}function I(t,e,...n){if(!t)throw G_(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uh(e),new Error(e)}function Ci(t,e){t||mr(e)}const tN=new Map;function jr(t){Ci(t instanceof Function,"Expected a class definition");let e=tN.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tN.set(t,e),e)}function Gl(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function nN(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Cq(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===nN()||"https:"===nN()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class ql{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=A_()||MR()}get(){return Cq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function z_(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class rN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wq=new ql(3e4,6e4);function Xe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function lt(t,e,n,r){return Q_.apply(this,arguments)}function Q_(){return Q_=C(function*(t,e,n,r,i={}){return iN(t,i,C(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Bl(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rN.fetch()(sN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))}),Q_.apply(this,arguments)}function iN(t,e,n){return K_.apply(this,arguments)}function K_(){return K_=C(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},bq),e);try{const i=new Dq(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw zl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw zl(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw zl(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw zl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw eN(t,c,u);Wt(t,c)}}catch(i){if(i instanceof _i)throw i;Wt(t,"internal-error",{message:String(i)})}}),K_.apply(this,arguments)}function Hr(t,e,n,r){return Y_.apply(this,arguments)}function Y_(){return Y_=C(function*(t,e,n,r,i={}){const s=yield lt(t,e,n,r,i);return"mfaPendingCredential"in s&&Wt(t,"multi-factor-auth-required",{_serverResponse:s}),s}),Y_.apply(this,arguments)}function sN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?z_(t.config,i):`${t.config.apiScheme}://${i}`}class Dq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),wq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gr(t,e,r);return i.customData._tokenResponse=n,i}function J_(){return J_=C(function*(t,e){return lt(t,"POST","/v1/accounts:delete",e)}),J_.apply(this,arguments)}function Sq(t,e){return X_.apply(this,arguments)}function X_(){return X_=C(function*(t,e){return lt(t,"POST","/v1/accounts:lookup",e)}),X_.apply(this,arguments)}function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function ey(){return ey=C(function*(t,e=!1){const n=mt(t),r=yield n.getIdToken(e),i=ch(r);I(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ql(ty(i.auth_time)),issuedAtTime:Ql(ty(i.iat)),expirationTime:Ql(ty(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}),ey.apply(this,arguments)}function ty(t){return 1e3*Number(t)}function ch(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xd(n);return i?JSON.parse(i):(uh("Failed to decode base64 JWT payload"),null)}catch(i){return uh("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function $r(t,e){return ny.apply(this,arguments)}function ny(){return ny=C(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof _i&&Nq(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}}),ny.apply(this,arguments)}function Nq({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Mq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(C(function*(){yield n.iteration()}),r)}iteration(){var e=this;return C(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===(null==n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class oN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Kl(t){return ry.apply(this,arguments)}function ry(){return ry=C(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield $r(t,Sq(n,{idToken:r}));I(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?Oq(s.providerUserInfo):[],a=Pq(t.providerData,o),c=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}),ry.apply(this,arguments)}function iy(){return iy=C(function*(t){const e=mt(t);yield Kl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),iy.apply(this,arguments)}function Pq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Oq(t){return t.map(e=>{var{providerId:n}=e,r=QR(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function sy(){return sy=C(function*(t,e){const n=yield iN(t,{},C(function*(){const r=Bl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sN(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rN.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}),sy.apply(this,arguments)}class Yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){I(e.idToken,"internal-error"),I(void 0!==e.idToken,"internal-error"),I(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(t){const e=ch(t);return I(e,"internal-error"),I(void 0!==e.exp,"internal-error"),I(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return C(function*(){return I(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return C(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function(t,e){return sy.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Yl;return r&&(I("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(I("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(I("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yl,this.toJSON())}_performRefresh(){return mr("not implemented")}}function Ei(t,e){I("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ps{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=QR(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oN(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return C(function*(){const r=yield $r(n,n.stsTokenManager.getToken(n.auth,e));return I(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function(t){return ey.apply(this,arguments)}(this,e)}reload(){return function(t){return iy.apply(this,arguments)}(this)}_assign(e){this!==e&&(I(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){I(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return C(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Kl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return C(function*(){const n=yield e.getIdToken();return yield $r(e,function(t,e){return J_.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,g=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,E=null!==(u=n.createdAt)&&void 0!==u?u:void 0,v=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,{uid:T,emailVerified:M,isAnonymous:W,providerData:Oe,stsTokenManager:Bt}=n;I(T&&Bt,e,"internal-error");const Rs=Yl.fromJSON(this.name,Bt);I("string"==typeof T,e,"internal-error"),Ei(d,e.name),Ei(h,e.name),I("boolean"==typeof M,e,"internal-error"),I("boolean"==typeof W,e,"internal-error"),Ei(f,e.name),Ei(p,e.name),Ei(m,e.name),Ei(g,e.name),Ei(E,e.name),Ei(v,e.name);const Er=new ps({uid:T,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:W,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:Rs,createdAt:E,lastLoginAt:v});return Oe&&Array.isArray(Oe)&&(Er.providerData=Oe.map(Pi=>Object.assign({},Pi))),g&&(Er._redirectEventId=g),Er}static _fromIdTokenResponse(e,n,r=!1){return C(function*(){const i=new Yl;i.updateFromServerResponse(n);const s=new ps({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Kl(s),s})()}}const aN=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(function*(){return!0})()}_set(n,r){var i=this;return C(function*(){i.storage[n]=r})()}_get(n){var r=this;return C(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return C(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function dh(t,e,n){return`firebase:${t}:${e}:${n}`}class Qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=dh(this.userKey,i.apiKey,s),this.fullPersistenceKey=dh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return C(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ps._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return C(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(function*(){if(!n.length)return new Qo(jr(aN),e,r);const i=(yield Promise.all(n.map(function(){var u=C(function*(c){if(yield c._isAvailable())return c});return function(c){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||jr(aN);const o=dh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=yield u._get(o);if(c){const d=ps._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch(c){}const l=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var u=C(function*(c){if(c!==s)try{yield c._remove(o)}catch(d){}});return function(c){return u.apply(this,arguments)}}())),new Qo(s,e,r)):new Qo(s,e,r)})()}}function lN(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fN(e))return"Blackberry";if(pN(e))return"Webos";if(oy(e))return"Safari";if((e.includes("chrome/")||cN(e))&&!e.includes("edge/"))return"Chrome";if(hN(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function uN(t=at()){return/firefox\//i.test(t)}function oy(t=at()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cN(t=at()){return/crios\//i.test(t)}function dN(t=at()){return/iemobile/i.test(t)}function hN(t=at()){return/android/i.test(t)}function fN(t=at()){return/blackberry/i.test(t)}function pN(t=at()){return/webos/i.test(t)}function hh(t=at()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gN(t=at()){return hh(t)||hN(t)||pN(t)||fN(t)||/windows phone/i.test(t)||dN(t)}function mN(t,e=[]){let n;switch(t){case"Browser":n=lN(at());break;case"Worker":n=`${lN(at())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$l}/${r}`}class Uq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return C(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch(o){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class Bq{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _N(this),this.idTokenSubscription=new _N(this),this.beforeStateQueue=new Uq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZR,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(C(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Qo.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return C(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return C(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=null==s?void 0:s._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===l)&&(null==u?void 0:u.user)&&(s=u.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return I(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return C(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return C(function*(){try{yield Kl(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return C(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return C(function*(){const r=e?mt(e):null;return r&&I(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return C(function*(){if(!r._deleted)return e&&I(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(C(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return C(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(C(function*(){yield n.assertedPersistence.setPersistence(jr(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return C(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return C(function*(){if(!n.redirectPersistenceManager){const r=e&&jr(e)||n._popupRedirectResolver;I(r,n,"argument-error"),n.redirectPersistenceManager=yield Qo.create(n,[jr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return C(function*(){var r,i;return n._isInitialized&&(yield n.queue(C(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return C(function*(){if(e===n.currentUser)return n.queue(C(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return I(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return C(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return I(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return C(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Gt(t){return mt(t)}class _N{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(t,e){const n=new t6(t,void 0);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return I(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vN(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class CN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}function ly(){return ly=C(function*(t,e){return lt(t,"POST","/v1/accounts:update",e)}),ly.apply(this,arguments)}function cy(){return cy=C(function*(t,e){return Hr(t,"POST","/v1/accounts:signInWithPassword",Xe(t,e))}),cy.apply(this,arguments)}function my(){return my=C(function*(t,e){return Hr(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))}),my.apply(this,arguments)}function _y(){return _y=C(function*(t,e){return Hr(t,"POST","/v1/accounts:signInWithEmailLink",Xe(t,e))}),_y.apply(this,arguments)}class Jl extends CN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if((null==n?void 0:n.email)&&(null==n?void 0:n.password)){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return C(function*(){switch(n.signInMethod){case"password":return function(t,e){return cy.apply(this,arguments)}(e,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return my.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:Wt(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return C(function*(){switch(r.signInMethod){case"password":return function(t,e){return ly.apply(this,arguments)}(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function(t,e){return _y.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:Wt(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Wr(t,e){return yy.apply(this,arguments)}function yy(){return yy=C(function*(t,e){return Hr(t,"POST","/v1/accounts:signInWithIdp",Xe(t,e))}),yy.apply(this,arguments)}class eu{constructor(e){var n,r,i,s,o,a;const l=jl(Hl(e)),u=null!==(n=l.apiKey)&&void 0!==n?n:null,c=null!==(r=l.oobCode)&&void 0!==r?r:null,d=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=l.mode)&&void 0!==i?i:null);I(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=l.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function(t){const e=jl(Hl(t)).link,n=e?jl(Hl(e)).deep_link_id:null,r=jl(Hl(t)).deep_link_id;return(r?jl(Hl(r)).link:null)||r||n||e||t}(e);try{return new eu(n)}catch(r){return null}}}let wN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Jl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=eu.parseLink(r);return I(i,"argument-error"),Jl._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class bi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class o5 extends bi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function DN(t,e){return Dy.apply(this,arguments)}function Dy(){return Dy=C(function*(t,e){return Hr(t,"POST","/v1/accounts:signUp",Xe(t,e))}),Dy.apply(this,arguments)}class Dn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return C(function*(){const s=yield ps._fromIdTokenResponse(e,r,i),o=IN(r);return new Dn({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return C(function*(){yield e._updateTokensIfNecessary(r,!0);const i=IN(r);return new Dn({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function IN(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gh extends _i{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gh(e,n,r,i)}}function TN(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?gh._fromErrorAndOperation(t,s,e,r):s})}function Sy(t,e){return Ay.apply(this,arguments)}function Ay(){return Ay=C(function*(t,e,n=!1){const r=yield $r(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Dn._forOperation(t,"link",r)}),Ay.apply(this,arguments)}function Ny(){return Ny=C(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield $r(t,TN(r,i,e,t),n);I(s.idToken,r,"internal-error");const o=ch(s.idToken);I(o,r,"internal-error");const{sub:a}=o;return I(t.uid===a,r,"user-mismatch"),Dn._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Wt(r,"user-mismatch"),s}}),Ny.apply(this,arguments)}function RN(t,e){return My.apply(this,arguments)}function My(){return My=C(function*(t,e,n=!1){const r="signIn",i=yield TN(t,r,e),s=yield Dn._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s}),My.apply(this,arguments)}function Py(){return Py=C(function*(t,e){return RN(Gt(t),e)}),Py.apply(this,arguments)}function Gy(){return Gy=C(function*(t,e,n){const r=Gt(t),i=yield DN(r,{returnSecureToken:!0,email:e,password:n}),s=yield Dn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s}),Gy.apply(this,arguments)}new WeakMap;const yh="__sak";class MN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const x5=(()=>{class t extends MN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=at();return oy(t)||hh(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=gN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function(){const t=at();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return C(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return C(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return C(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),xN=(()=>{class t extends MN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let O5=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return C(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(!(null==l?void 0:l.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(l).map(function(){var d=C(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var e=C(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:c})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function ov(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class k5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return C(function*(){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,u)=>{const c=ov("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function et(){return window}function av(){return void 0!==et().WorkerGlobalScope&&"function"==typeof et().importScripts}function lv(){return(lv=C(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(t){return null}})).apply(this,arguments)}const PN="firebaseLocalStorageDb",vh="firebaseLocalStorage",ON="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(t,e){return t.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function uv(){const t=indexedDB.open(PN,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vh,{keyPath:ON})}catch(i){n(i)}}),t.addEventListener("success",C(function*(){const r=t.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),yield function(){const t=indexedDB.deleteDatabase(PN);return new nu(t).toPromise()}(),e(yield uv()))}))})}function kN(t,e,n){return cv.apply(this,arguments)}function cv(){return cv=C(function*(t,e,n){const r=Ch(t,!0).put({[ON]:e,value:n});return new nu(r).toPromise()}),cv.apply(this,arguments)}function dv(){return dv=C(function*(t,e){const n=Ch(t,!1).get(e),r=yield new nu(n).toPromise();return void 0===r?null:r.value}),dv.apply(this,arguments)}function FN(t,e){const n=Ch(t,!0).delete(e);return new nu(n).toPromise()}const G5=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return C(function*(){return n.db||(n.db=yield uv()),n.db})()}_withRetries(n){var r=this;return C(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return C(function*(){return av()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return C(function*(){n.receiver=O5._getInstance(av()?self:null),n.receiver._subscribe("keyChanged",function(){var r=C(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=C(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return C(function*(){var r,i;if(n.activeServiceWorker=yield function(){return lv.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new k5(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return C(function*(){if(r.sender&&r.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch(i){}})()}_isAvailable(){return C(function*(){try{if(!indexedDB)return!1;const n=yield uv();return yield kN(n,yh,"1"),yield FN(n,yh),!0}catch(n){}return!1})()}_withPendingWrite(n){var r=this;return C(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return C(function*(){return i._withPendingWrite(C(function*(){return yield i._withRetries(s=>kN(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return C(function*(){const i=yield r._withRetries(s=>function(t,e){return dv.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return C(function*(){return r._withPendingWrite(C(function*(){return yield r._withRetries(i=>FN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return C(function*(){const r=yield n._withRetries(o=>{const a=Ch(o,!1).getAll();return new nu(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(C(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function VN(t){return`__${t}${Math.floor(1e6*Math.random())}`}function ms(t,e){return e?jr(e):(I(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}VN("rcb"),new ql(3e4,6e4);class Ev extends CN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l7(t){return RN(t.auth,new Ev(t),t.bypassAuthState)}function u7(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),function(t,e){return Ny.apply(this,arguments)}(n,new Ev(t),t.bypassAuthState)}function c7(t){return bv.apply(this,arguments)}function bv(){return bv=C(function*(t){const{auth:e,user:n}=t;return I(n,e,"internal-error"),Sy(n,new Ev(t),t.bypassAuthState)}),bv.apply(this,arguments)}new ql(2e3,1e4);const ru=new Map;class f7 extends class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=C(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return C(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(u))}catch(c){n.reject(c)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l7;case"linkViaPopup":case"linkViaRedirect":return c7;case"reauthViaPopup":case"reauthViaRedirect":return u7;default:Wt(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return C(function*(){let r=ru.get(n.auth._key());if(!r){try{const s=(yield function(t,e){return Sv.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ru.set(n.auth._key(),r)}return n.bypassAuthState||ru.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return C(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return C(function*(){})()}cleanUp(){}}function Sv(){return Sv=C(function*(t,e){const n=jN(e),r=BN(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i}),Sv.apply(this,arguments)}function g7(t,e){ru.set(t._key(),e)}function BN(t){return jr(t._redirectPersistence)}function jN(t){return dh("pendingRedirect",t.config.apiKey,t.name)}function HN(t,e){return Ov.apply(this,arguments)}function Ov(){return Ov=C(function*(t,e,n=!1){const r=Gt(t),i=ms(r,e),o=yield new f7(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o}),Ov.apply(this,arguments)}class C7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GN(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!GN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(WN(e))}saveEventToCache(e){this.cachedEventUids.add(WN(e)),this.lastProcessedEventTime=Date.now()}}function WN(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GN({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function b7(t){return Fv.apply(this,arguments)}function Fv(){return Fv=C(function*(t,e={}){return lt(t,"GET","/v1/projects",e)}),Fv.apply(this,arguments)}const w7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D7=/^https?/;function Lv(){return Lv=C(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield b7(t);for(const n of e)try{if(T7(n))return}catch(r){}Wt(t,"unauthorized-domain")}),Lv.apply(this,arguments)}function T7(t){const e=Gl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!D7.test(n))return!1;if(w7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const S7=new ql(3e4,6e4);function qN(){const t=et().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let bh=null;function R7(t){return bh=bh||function(t){return new Promise((e,n)=>{var r,i,s;function o(){qN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qN(),n(gr(t,"network-request-failed"))},timeout:S7.get()})}if(null===(i=null===(r=et().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=et().gapi)||void 0===s?void 0:s.load)){const a=VN("iframefcb");return et()[a]=()=>{gapi.load?o():n(gr(t,"network-request-failed"))},function(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=gr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw bh=null,e})}(t),bh}const N7=new ql(5e3,15e3),P7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function k7(t){const e=t.config;I(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?z_(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:$l},i=O7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Bl(r).slice(1)}`}function Vv(){return Vv=C(function*(t){const e=yield R7(t),n=et().gapi;return I(n,t,"internal-error"),e.open({where:document.body,url:k7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P7,dontclear:!0},r=>new Promise(function(){var i=C(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=gr(t,"network-request-failed"),l=et().setTimeout(()=>{o(a)},N7.get());function u(){et().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),Vv.apply(this,arguments)}const L7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function QN(t,e,n,r,i,s){I(t.config.authDomain,t,"auth-domain-config-required"),I(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$l,eventId:i};if(e instanceof bi){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",R_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof o5){const l=e.getScopes().filter(u=>""!==u);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function({config:t}){return t.emulator?z_(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Bl(a).slice(1)}`}const Uv="webStorageSupport",Q7=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xN,this._completeRedirectFn=HN,this._overrideRedirectResult=g7}_openPopup(e,n,r,i){var s=this;return C(function*(){var o;Ci(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=QN(e,n,r,Gl(),i);return function(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},L7),{width:r.toString(),height:i.toString(),top:s,left:o}),u=at().toLowerCase();n&&(a=cN(u)?"_blank":n),uN(u)&&(e=e||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function(t=at()){var e;return hh(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new zN(null);const d=window.open(e||"",a,c);I(d,t,"popup-blocked");try{d.focus()}catch(h){}return new zN(d)}(e,a,ov())})()}_openRedirect(e,n,r,i){var s=this;return C(function*(){return yield s._originValidation(e),function(t){et().location.href=t}(QN(e,n,r,Gl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return C(function*(){const r=yield function(t){return Vv.apply(this,arguments)}(e),i=new C7(e);return r.register("authEvent",s=>(I(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uv,{type:Uv},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[Uv];void 0!==o&&n(!!o),Wt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function(t){return Lv.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gN()||oy()||hh()}};var YN="@firebase/auth";class K7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return C(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){I(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const X7=NR("authIdTokenMaxAge")||300;let ZN=null;const ez=t=>function(){var e=C(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>X7)return;const s=null==r?void 0:r.token;ZN!==s&&(ZN=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Bv(t=jR()){const e=ah(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=ah(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(rh(n.getOptions(),null!=e?e:{}))return i;Wt(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Q7,persistence:[G5,x5,xN]}),r=NR("authTokenSyncURL");if(r){const s=ez(r);(function(t,e,n){mt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function(t,e,n,r){mt(t).onIdTokenChanged(o=>s(o),void 0,void 0)}(n)}const i=RR("auth");return i&&function(t,e,n){const r=Gt(t);I(r._canInitEmulator,r,"emulator-config-failed"),I(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=yN(e),{host:o,port:a}=function(t){const e=yN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:vN(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:vN(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function(t){qo(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{I(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),I(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mN(t)},c=new Bq(a,l,u);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qo(new cs("auth-internal",e=>{const n=Gt(e.getProvider("auth").getImmediate());return new K7(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(YN,"0.21.5",void 0),vi(YN,"0.21.5","esm2017")}("Browser");const XN="@firebase/database";let jv="";class nz{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Ul(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class rz{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return pr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const tM=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nz(e)}}catch(e){}return new rz},_s=tM("localStorage"),Hv=tM("sessionStorage"),Ko=new x_("@firebase/database"),nM=function(){let t=1;return function(){return t++}}(),rM=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,D(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new X4;n.update(e);const r=n.digest();return S_.encodeByteArray(r)},iu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=iu.apply(null,r):e+="object"==typeof r?Ze(r):r,e+=" "}return e};let ys=null,iM=!0;const ut=function(...t){if(!0===iM&&(iM=!1,null===ys&&!0===Hv.get("logging_enabled")&&function(t,e){D(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ko.logLevel=he.VERBOSE,ys=Ko.log.bind(Ko),e&&Hv.set("logging_enabled",!0)):"function"==typeof t?ys=t:(ys=null,Hv.remove("logging_enabled"))}(!0)),ys){const e=iu.apply(null,t);ys(e)}},su=function(t){return function(...e){ut(t,...e)}},$v=function(...t){const e="FIREBASE INTERNAL ERROR: "+iu(...t);Ko.error(e)},_r=function(...t){const e=`FIREBASE FATAL ERROR: ${iu(...t)}`;throw Ko.error(e),new Error(e)},Tt=function(...t){const e="FIREBASE WARNING: "+iu(...t);Ko.warn(e)},wh=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wi="[MIN_NAME]",Gr="[MAX_NAME]",vs=function(t,e){if(t===e)return 0;if(t===wi||e===Gr)return-1;if(e===wi||t===Gr)return 1;{const n=lM(t),r=lM(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},oz=function(t,e){return t===e?0:t<e?-1:1},ou=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},Wv=function(t){if("object"!=typeof t||null===t)return Ze(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Ze(e[r]),n+=":",n+=Wv(t[e[r]]);return n+="}",n},oM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const aM=function(t){D(!wh(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const u=[];for(l=52;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},cz=new RegExp("^-?(0*)\\d{1,10}$"),lM=function(t){if(cz.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Yo=function(t){try{t()}catch(e){setTimeout(()=>{throw Tt("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},au=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class pz{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gz{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tt(e)}}let lu=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const fM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mM="websocket",_M="long_polling";class qv{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_s.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_s.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function yM(t,e,n){let r;if(D("string"==typeof e,"typeof type must == string"),D("object"==typeof n,"typeof params must == object"),e===mM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==_M)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return ct(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class _z{constructor(){this.counters_={}}incrementCounter(e,n=1){pr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return O4(this.counters_)}}const zv={},Qv={};function Kv(t){const e=t.toString();return zv[e]||(zv[e]=new _z),zv[e]}class vz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Yo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Di{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=su(e),this.stats_=Kv(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),yM(n,_M,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new vz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yv((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&fM.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Di.forceAllow_=!0}static forceDisallow(){Di.forceDisallow_=!0}static isAvailable(){return!(!Di.forceAllow_&&(Di.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=SR(n),i=oM(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Yv{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nM(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Yv.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ut("frame writing exception"),a.stack&&ut(a.stack),ut(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ut("No IE domain setting required")}catch(n){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ut("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Ih=null;"undefined"!=typeof MozWebSocket?Ih=MozWebSocket:"undefined"!=typeof WebSocket&&(Ih=WebSocket);let Jo=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=su(this.connId),this.stats_=Kv(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return"undefined"!=typeof location&&location.hostname&&fM.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),yM(n,mM,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_s.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Ih(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Ih&&!t.forceDisallow_}static previouslyFailed(){return _s.isInMemoryStorage||!0===_s.get("previous_websocket_failure")}markConnectionHealthy(){_s.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Ul(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(D(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Ze(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=oM(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),IM=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Di,Jo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Jo&&Jo.isAvailable();let i=r&&!Jo.previouslyFailed();if(n.webSocketOnly&&(r||Tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Jo];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class xM{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=su("c:"+this.id+":"),this.transportManager_=new IM(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=au(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ou("t",e),r=ou("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ou("t",e),r=ou("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ou("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?$v("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$v("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),au(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):au(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class OM{constructor(e){this.allowedEvents_=e,this.listeners_={},D(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){D(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Th extends OM{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!A_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Th}getInitialEvent(e){return D("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class ce{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function oe(){return new ce("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ii(t){return t.pieces_.length-t.pieceNum_}function ye(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ce(t.pieces_,e)}function Zv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function uu(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function LM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ce(e,0)}function Ae(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ce)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ce(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function Ut(t,e){const n=Y(t),r=Y(e);if(null===n)return e;if(n===r)return Ut(ye(t),ye(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Xv(t,e){if(Ii(t)!==Ii(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function In(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ii(t)>Ii(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Hz{constructor(e,n){this.errorPrefix_=n,this.parts_=uu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ih(this.parts_[r]);VM(this)}}function VM(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Cs(t))}function Cs(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class eC extends OM{constructor(){let e,n;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new eC}getInitialEvent(e){return D("visible"===e,"Unknown event type: "+e),[this.visible_]}}const cu=1e3;let Ah,Es=(()=>{class t extends PM{constructor(n,r,i,s,o,a,l,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=u,this.id=t.nextPersistentConnectionId_++,this.log_=su("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eC.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Th.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Ze(o)),D(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Ll,i={p:n._path.toString(),q:n._queryObject};return this.outstandingGets_.push({action:"g",request:i,onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),D(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const u=l.d,c=l.s;t.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==c&&this.removeListen_(i,s),n.onComplete&&n.onComplete(c,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&pr(n,"w")){const i=Go(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=th(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=th(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),D(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ze(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):$v("Unrecognized action received from server: "+Ze(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){D(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cu,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return C(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,u=null;const c=function(){u?u.close():(l=!0,s())};n.realtime_={close:c,sendRequest:function(f){D(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new xM(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,m=>{Tt(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&Tt(f),c())}}})()}interrupt(n){ut("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ut("Resuming connection for reason: "+n),delete this.interruptReasons_[n],R_(this.interruptReasons_)&&(this.reconnectDelay_=cu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>Wv(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new ce(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){ut("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ut("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+jv.replace(/\./g,"-")]=1,A_()?n["framework.cordova"]=1:MR()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Th.getInstance().currentlyOnline();return R_(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class ee{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ee(e,n)}}class Sh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ee(wi,e),i=new ee(wi,n);return 0!==this.compare(r,i)}minPost(){return ee.MIN}}class jM extends Sh{static get __EMPTY_NODE(){return Ah}static set __EMPTY_NODE(e){Ah=e}compare(e,n){return vs(e.name,n.name)}isDefinedOn(e){throw Wo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Gr,Ah)}makePost(e,n){return D("string"==typeof e,"KeyIndex indexValue must always be a string."),new ee(e,Ah)}toString(){return".key"}}const yr=new jM;class Rh{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let nC,zn=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=s?s:qt.EMPTY_NODE,this.right=null!=o?o:qt.EMPTY_NODE}copy(n,r,i,s,o){return new t(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return qt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class qt{constructor(e,n=qt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,zn.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,zn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rh(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rh(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rh(this.root_,null,this.comparator_,!0,e)}}function Yz(t,e){return vs(t.name,e.name)}function tC(t,e){return vs(t,e)}qt.EMPTY_NODE=new class{copy(e,n,r,i,s){return this}insert(e,n,r){return new zn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const HM=function(t){return"number"==typeof t?"number:"+aM(t):"string:"+t},$M=function(t){if(t.isLeafNode()){const e=t.val();D("string"==typeof e||"number"==typeof e||"object"==typeof e&&pr(e,".sv"),"Priority must be a string or number.")}else D(t===nC||t.isEmpty(),"priority of unexpected type.");D(t===nC||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let WM,GM,qM,Zo=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,D(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$M(this.priorityNode_)}static set __childrenNodeConstructor(n){WM=n}static get __childrenNodeConstructor(){return WM}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return J(n)?this:".priority"===Y(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Y(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(D(".priority"!==i||1===Ii(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+HM(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?aM(this.value_):this.value_,this.lazyHash_=rM(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(D(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return D(s>=0,"Unknown leaf type: "+r),D(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const be=new class extends Sh{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?vs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Gr,new Zo("[PRIORITY-POST]",qM))}makePost(e,n){const r=GM(e);return new ee(n,new Zo("[PRIORITY-POST]",r))}toString(){return".priority"}},t9=Math.log(2);class n9{constructor(e){this.count=parseInt(Math.log(e+1)/t9,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Nh=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(0===c)return null;if(1===c)return d=t[l],h=n?n(d):d,new zn(h,d.node,zn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),m=i(f+1,u);return d=t[f],h=n?n(d):d,new zn(h,d.node,zn.BLACK,p,m)}},a=function(l){let u=null,c=null,d=t.length;const h=function(p,m){const g=d-p,E=d;d-=p;const v=i(g+1,E),T=t[g],M=n?n(T):T;f(new zn(M,T.node,m,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,zn.BLACK):(h(g,zn.BLACK),h(g,zn.RED))}return c}(new n9(t.length));return new qt(r||e,a)};let rC;const Xo={};class qr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return D(Xo&&be,"ChildrenNode.ts has not been loaded"),rC=rC||new qr({".priority":Xo},{".priority":be}),rC}get(e){const n=Go(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return pr(this.indexSet_,e.toString())}addIndex(e,n){D(e!==yr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(ee.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Nh(r,e.getCompare()):Xo;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new qr(c,u)}addToIndexes(e,n){const r=nh(this.indexes_,(i,s)=>{const o=Go(this.indexSet_,s);if(D(o,"Missing index implementation for "+s),i===Xo){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(ee.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Nh(a,o.getCompare())}return Xo}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new ee(e.name,a))),l.insert(e,e.node)}});return new qr(r,this.indexSet_)}removeFromIndexes(e,n){const r=nh(this.indexes_,i=>{if(i===Xo)return i;{const s=n.get(e.name);return s?i.remove(new ee(e.name,s)):i}});return new qr(r,this.indexSet_)}}let du,$=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&$M(this.priorityNode_),this.children_.isEmpty()&&D(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return du||(du=new t(new qt(tC),null,qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||du}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?du:r}}getChild(n){const r=Y(n);return null===r?this:this.getImmediateChild(r).getChild(ye(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(D(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new ee(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?du:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=Y(n);if(null===i)return r;{D(".priority"!==Y(n)||1===Ii(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(ye(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(be,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+HM(this.getPriority().val())+":"),this.forEachChild(be,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":rM(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ee(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new ee(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new ee(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,ee.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===hu?-1:0}withIndex(n){if(n===yr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===yr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(be),s=r.getIterator(be);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===yr?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const hu=new class extends ${constructor(){super(new qt(tC),$.EMPTY_NODE,qr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $.EMPTY_NODE}isEmpty(){return!1}};function Pe(t,e=null){if(null===t)return $.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),D(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Zo(t,Pe(e));if(t instanceof Array){let n=$.EMPTY_NODE;return ct(t,(r,i)=>{if(pr(t,r)&&"."!==r.substring(0,1)){const s=Pe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Pe(e))}{const n=[];let r=!1;if(ct(t,(o,a)=>{if("."!==o.substring(0,1)){const l=Pe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new ee(o,l)))}}),0===n.length)return $.EMPTY_NODE;const s=Nh(n,Yz,o=>o.name,tC);if(r){const o=Nh(n,be.getCompare());return new $(s,Pe(e),new qr({".priority":o},{".priority":be}))}return new $(s,Pe(e),qr.Default)}}Object.defineProperties(ee,{MIN:{value:new ee(wi,$.EMPTY_NODE)},MAX:{value:new ee(Gr,hu)}}),jM.__EMPTY_NODE=$.EMPTY_NODE,Zo.__childrenNodeConstructor=$,function(t){nC=t}(hu),function(t){qM=t}(hu),function(t){GM=t}(Pe);class iC extends Sh{constructor(e){super(),this.indexPath_=e,D(!J(e)&&".priority"!==Y(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?vs(e.name,n.name):s}makePost(e,n){const r=Pe(e),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new ee(n,i)}maxPost(){const e=$.EMPTY_NODE.updateChild(this.indexPath_,hu);return new ee(Gr,e)}toString(){return uu(this.indexPath_,0).join("/")}}const sC=new class extends Sh{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?vs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(e,n){const r=Pe(e);return new ee(n,r)}toString(){return".value"}};function zM(t){return{type:"value",snapshotNode:t}}function ea(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function fu(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pu(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class oC{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){D(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=o&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(fu(n,a)):D(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ea(n,r)):o.trackChildChange(pu(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return null!=r&&(e.isLeafNode()||e.forEachChild(be,(i,s)=>{n.hasChild(i)||r.trackChildChange(fu(i,s))}),n.isLeafNode()||n.forEachChild(be,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(pu(i,s,o))}else r.trackChildChange(ea(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?$.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gu{constructor(e){this.indexedFilter_=new oC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=gu.getStartPost_(e),this.endPost_=gu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new ee(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);const s=this;return n.forEachChild(be,(o,a)=>{s.matches(new ee(o,a))||(i=i.updateImmediateChild(o,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}return e.getIndex().maxPost()}}class a9{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new gu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new ee(n,r))||(r=$.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let s;i=$.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),o++}}}else{let s;i=n.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE),s=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();const a=e;D(a.numChildren()===this.limit_,"");const l=new ee(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:o(h,l);if(c&&!r.isEmpty()&&f>=0)return null!=s&&s.trackChildChange(pu(n,r,d)),a.updateImmediateChild(n,r);{null!=s&&s.trackChildChange(fu(n,d));const m=a.updateImmediateChild(n,$.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=s&&s.trackChildChange(ea(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}return r.isEmpty()?e:c&&o(u,l)>=0?(null!=s&&(s.trackChildChange(fu(u.name,u.node)),s.trackChildChange(ea(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,$.EMPTY_NODE)):e}}class aC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=be}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return D(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return D(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wi}hasEnd(){return this.endSet_}getIndexEndValue(){return D(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return D(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return D(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===be}copy(){const e=new aC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QM(t){const e={};if(t.isDefault())return e;let n;if(t.index_===be?n="$priority":t.index_===sC?n="$value":t.index_===yr?n="$key":(D(t.index_ instanceof iC,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ze(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ze(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ze(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function KM(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==be&&(e.i=t.index_.toString()),e}class xh extends PM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=su("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(D(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=xh.getListenId_(e,r),a={};this.listens_[o]=a;const l=QM(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(s,d,!1,r),Go(this.listens_,o)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(e,n){const r=xh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=QM(e._queryParams),r=e._path.toString(),i=new Ll;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Bl(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ul(a.responseText)}catch(u){Tt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&Tt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class f9{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function Ph(){return{value:null,children:new Map}}function ta(t,e,n){if(J(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Y(e);t.children.has(r)||t.children.set(r,Ph()),ta(t.children.get(r),e=ye(e),n)}}function dC(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{dC(i,new ce(e.toString()+"/"+r),n)})}class g9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class y9{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new g9(e);const r=1e4+2e4*Math.random();au(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;ct(e,(i,s)=>{s>0&&pr(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),au(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Tn=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Tn||(Tn={})),Tn))();function pC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class Oh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Tn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(J(this.path)){if(null!=this.affectedTree.value)return D(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ce(e));return new Oh(oe(),n,this.revert)}}return D(Y(this.path)===e,"operationForChild called for unrelated child."),new Oh(ye(this.path),this.affectedTree,this.revert)}}class mu{constructor(e,n){this.source=e,this.path=n,this.type=Tn.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new mu(this.source,oe()):new mu(this.source,ye(this.path))}}class bs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Tn.OVERWRITE}operationForChild(e){return J(this.path)?new bs(this.source,oe(),this.snap.getImmediateChild(e)):new bs(this.source,ye(this.path),this.snap)}}class na{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Tn.MERGE}operationForChild(e){if(J(this.path)){const n=this.children.subtree(new ce(e));return n.isEmpty()?null:n.value?new bs(this.source,oe(),n.value):new na(this.source,oe(),n)}return D(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new na(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ti{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;const n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class v9{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _u(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function(t,e,n){if(null==e.childName||null==n.childName)throw Wo("Should only compare child_ events.");const r=new ee(e.childName,e.snapshotNode),i=new ee(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function kh(t,e){return{eventCache:t,serverCache:e}}function yu(t,e,n,r){return kh(new Ti(e,n,r),t.serverCache)}function JM(t,e,n,r){return kh(t.eventCache,new Ti(e,n,r))}function Fh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ws(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let gC;class we{constructor(e,n=(()=>(gC||(gC=new qt(oz)),gC))()){this.value=e,this.children=n}static fromObject(e){let n=new we(null);return ct(e,(r,i)=>{n=n.set(new ce(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:oe(),value:this.value};if(J(e))return null;{const r=Y(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(ye(e),n);return null!=s?{path:Ae(new ce(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{const n=Y(e),r=this.children.get(n);return null!==r?r.subtree(ye(e)):new we(null)}}set(e,n){if(J(e))return new we(n,this.children);{const r=Y(e),s=(this.children.get(r)||new we(null)).set(ye(e),n),o=this.children.insert(r,s);return new we(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new we(null):new we(null,this.children);{const n=Y(e),r=this.children.get(n);if(r){const i=r.remove(ye(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new we(null):new we(this.value,s)}return this}}get(e){if(J(e))return this.value;{const n=Y(e),r=this.children.get(n);return r?r.get(ye(e)):null}}setTree(e,n){if(J(e))return n;{const r=Y(e),s=(this.children.get(r)||new we(null)).setTree(ye(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new we(this.value,o)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(J(e))return null;{const s=Y(e),o=this.children.get(s);return o?o.findOnPath_(ye(e),Ae(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(J(e))return this;{this.value&&r(n,this.value);const i=Y(e),s=this.children.get(i);return s?s.foreachOnPath_(ye(e),Ae(n,i),r):new we(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Qn{constructor(e){this.writeTree_=e}static empty(){return new Qn(new we(null))}}function vu(t,e,n){if(J(e))return new Qn(new we(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Ut(i,e);return s=s.updateChild(o,n),new Qn(t.writeTree_.set(i,s))}{const i=new we(n),s=t.writeTree_.setTree(e,i);return new Qn(s)}}}function mC(t,e,n){let r=t;return ct(n,(i,s)=>{r=vu(r,Ae(e,i),s)}),r}function ZM(t,e){if(J(e))return Qn.empty();{const n=t.writeTree_.setTree(e,new we(null));return new Qn(n)}}function _C(t,e){return null!=Ds(t,e)}function Ds(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Ut(n.path,e)):null}function XM(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(be,(r,i)=>{e.push(new ee(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new ee(r,i.value))}),e}function Si(t,e){if(J(e))return t;{const n=Ds(t,e);return new Qn(null!=n?new we(n):t.writeTree_.subtree(e))}}function yC(t){return t.writeTree_.isEmpty()}function ra(t,e){return ex(oe(),t.writeTree_,e)}function ex(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(D(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=ex(Ae(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Ae(t,".priority"),r)),n}}function Lh(t,e){return sx(e,t)}function A9(t,e){if(t.snap)return In(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&In(Ae(t.path,n),e))return!0;return!1}function N9(t){return t.visible}function tx(t,e,n){let r=Qn.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)In(n,o)?(a=Ut(n,o),r=vu(r,a,s.snap)):In(o,n)&&(a=Ut(o,n),r=vu(r,oe(),s.snap.getChild(a)));else{if(!s.children)throw Wo("WriteRecord should have .snap or .children");if(In(n,o))a=Ut(n,o),r=mC(r,a,s.children);else if(In(o,n))if(a=Ut(o,n),J(a))r=mC(r,oe(),s.children);else{const l=Go(s.children,Y(a));if(l){const u=l.getChild(ye(a));r=vu(r,oe(),u)}}}}}return r}function nx(t,e,n,r,i){if(r||i){const s=Si(t.visibleWrites,e);return!i&&yC(s)?n:i||null!=n||_C(s,oe())?ra(tx(t.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(In(u.path,e)||In(e,u.path))},e),n||$.EMPTY_NODE):null}{const s=Ds(t.visibleWrites,e);if(null!=s)return s;{const o=Si(t.visibleWrites,e);return yC(o)?n:null!=n||_C(o,oe())?ra(o,n||$.EMPTY_NODE):null}}}function Vh(t,e,n,r){return nx(t.writeTree,t.treePath,e,n,r)}function vC(t,e){return function(t,e,n){let r=$.EMPTY_NODE;const i=Ds(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(be,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Si(t.visibleWrites,e);return n.forEachChild(be,(o,a)=>{const l=ra(Si(s,new ce(o)),a);r=r.updateImmediateChild(o,l)}),XM(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return XM(Si(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function rx(t,e,n,r){return function(t,e,n,r,i){D(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Ae(e,n);if(_C(t.visibleWrites,s))return null;{const o=Si(t.visibleWrites,s);return yC(o)?i.getChild(n):ra(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function Uh(t,e){return function(t,e){return Ds(t.visibleWrites,e)}(t.writeTree,Ae(t.treePath,e))}function CC(t,e,n){return function(t,e,n,r){const i=Ae(e,n),s=Ds(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?ra(Si(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function ix(t,e){return sx(Ae(t.treePath,e),t.writeTree)}function sx(t,e){return{treePath:t,writeTree:e}}class V9{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;D("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),D(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,pu(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,fu(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,ea(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Wo("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,pu(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const ox=new class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class EC{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return CC(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ws(this.viewCache_),s=function(t,e,n,r,i,s){return function(t,e,n,r,i,s,o){let a;const l=Si(t.visibleWrites,e),u=Ds(l,oe());if(null!=u)a=u;else{if(null==n)return[];a=ra(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function ax(t,e,n,r,i,s){const o=e.eventCache;if(null!=Uh(r,n))return e;{let a,l;if(J(n))if(D(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ws(e),d=vC(r,u instanceof $?u:$.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Vh(r,ws(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Y(n);if(".priority"===u){D(1===Ii(n),"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=rx(r,n,c,l);a=null!=d?t.filter.updatePriority(c,d):o.getNode()}else{const c=ye(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=rx(r,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(u).updateChild(c,h):o.getNode().getImmediateChild(u)}else d=CC(r,u,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),u,d,c,i,s):o.getNode()}}return yu(e,a,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Bh(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(J(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Y(n);if(!l.isCompleteForPath(n)&&Ii(n)>1)return e;const p=ye(n),g=l.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?c.updatePriority(l.getNode(),g):c.updateChild(l.getNode(),f,g,p,ox,null)}const d=JM(e,u,l.isFullyInitialized()||J(n),c.filtersNodes());return ax(t,d,n,i,new EC(i,d,s),a)}function bC(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new EC(i,e,s);if(J(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=yu(e,u,!0,t.filter.filtersNodes());else{const d=Y(n);if(".priority"===d)u=t.filter.updatePriority(e.eventCache.getNode(),r),l=yu(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=ye(n),f=a.getNode().getImmediateChild(d);let p;if(J(h))p=r;else{const m=c.getCompleteChild(d);p=null!=m?".priority"===Zv(h)&&m.getChild(LM(h)).isEmpty()?m:m.updateChild(h,r):$.EMPTY_NODE}l=f.equals(p)?e:yu(e,t.filter.updateChild(a.getNode(),d,p,h,c,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function lx(t,e){return t.eventCache.isCompleteForChild(e)}function ux(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function wC(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let u,l=e;u=J(n)?r:new we(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=ux(0,e.serverCache.getNode().getImmediateChild(d),h);l=Bh(t,l,new ce(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const m=ux(0,e.serverCache.getNode().getImmediateChild(d),h);l=Bh(t,l,new ce(d),m,i,s,o,a)}}),l}class Q9{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new oC(r.getIndex()),s=function(t){return t.loadsAllData()?new oC(t.getIndex()):t.hasLimit()?new a9(t):new gu(t)}(r);this.processor_=function(t){return{filter:t}}(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode($.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode($.EMPTY_NODE,a.getNode(),null),c=new Ti(l,o.isFullyInitialized(),i.filtersNodes()),d=new Ti(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=kh(d,c),this.eventGenerator_=new v9(this.query_)}get query(){return this.query_}}function J9(t,e){const n=ws(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function cx(t){return 0===t.eventRegistrations_.length}function dx(t,e,n){const r=[];if(n){D(null==e,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(o.matches(e)){if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}else i.push(o)}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function hx(t,e,n,r){e.type===Tn.MERGE&&null!==e.source.queryId&&(D(ws(t.viewCache_),"We should always have a full cache before handling merges"),D(Fh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function(t,e,n,r,i){const s=new V9;let o,a;if(n.type===Tn.OVERWRITE){const u=n;u.source.fromUser?o=bC(t,e,u.path,u.snap,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!J(u.path),o=Bh(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Tn.MERGE){const u=n;u.source.fromUser?o=function(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=Ae(n,l);lx(e,Y(c))&&(a=bC(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=Ae(n,l);lx(e,Y(c))||(a=bC(t,a,c,u,i,s,o))}),a}(t,e,u.path,u.children,r,i,s):(D(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=wC(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Tn.ACK_USER_WRITE){const u=n;o=u.revert?function(t,e,n,r,i,s){let o;if(null!=Uh(r,n))return e;{const a=new EC(r,e,i),l=e.eventCache.getNode();let u;if(J(n)||".priority"===Y(n)){let c;if(e.serverCache.isFullyInitialized())c=Vh(r,ws(e));else{const d=e.serverCache.getNode();D(d instanceof $,"serverChildren would be complete if leaf node"),c=vC(r,d)}u=t.filter.updateFullNode(l,c,s)}else{const c=Y(n);let d=CC(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),u=null!=d?t.filter.updateChild(l,c,d,ye(n),a,s):e.eventCache.getNode().hasChild(c)?t.filter.updateChild(l,c,$.EMPTY_NODE,ye(n),a,s):l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vh(r,ws(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=Uh(r,oe()),yu(e,u,o,t.filter.filtersNodes())}}(t,e,u.path,r,i,s):function(t,e,n,r,i,s,o){if(null!=Uh(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bh(t,e,n,l.getNode().getChild(n),i,s,a,o);if(J(n)){let u=new we(null);return l.getNode().forEachChild(yr,(c,d)=>{u=u.set(new ce(c),d)}),wC(t,e,n,u,i,s,a,o)}return e}{let u=new we(null);return r.foreach((c,d)=>{const h=Ae(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),wC(t,e,n,u,i,s,a,o)}}(t,e,u.path,u.affectedTree,r,i,s)}else{if(n.type!==Tn.LISTEN_COMPLETE)throw Wo("Unknown operation type: "+n.type);o=function(t,e,n,r,i){const s=e.serverCache;return ax(t,JM(e,s.getNode(),s.isFullyInitialized()||J(n),s.isFiltered()),n,r,ox,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Fh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(zM(Fh(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function(t,e){D(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),D(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),D(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,fx(t,s.changes,s.viewCache.eventCache.getNode(),null)}function fx(t,e,n,r){return function(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),_u(t,i,"child_removed",e,r,n),_u(t,i,"child_added",e,r,n),_u(t,i,"child_moved",s,r,n),_u(t,i,"child_changed",e,r,n),_u(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}let jh,$h;class px{constructor(){this.views=new Map}}function DC(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return D(null!=s,"SyncTree gave us an op for an invalid query."),hx(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(hx(o,e,n,r));return s}}function gx(t,e,n,r,i){const o=t.views.get(e._queryIdentifier);if(!o){let a=Vh(n,i?r:null),l=!1;a?l=!0:r instanceof $?(a=vC(n,r),l=!1):(a=$.EMPTY_NODE,l=!1);const u=kh(new Ti(a,l,!1),new Ti(r,i,!1));return new Q9(e,u)}return o}function mx(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ai(t,e){let n=null;for(const r of t.views.values())n=n||J9(r,e);return n}function _x(t,e){return e._queryParams.loadsAllData()?Hh(t):t.views.get(e._queryIdentifier)}function yx(t,e){return null!=_x(t,e)}function Ri(t){return null!=Hh(t)}function Hh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let aQ=1;class vx{constructor(e){this.listenProvider_=e,this.syncPointTree_=new we(null),this.pendingWriteTree_={visibleWrites:Qn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function IC(t,e,n,r,i){return function(t,e,n,r,i){D(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=vu(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?ia(t,new bs({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Ni(t,e,n=!1){const r=function(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);D(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&A9(a,r.path)?i=!1:In(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function(t){t.visibleWrites=tx(t.allWrites,N9,oe()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=ZM(t.visibleWrites,r.path):ct(r.children,l=>{t.visibleWrites=ZM(t.visibleWrites,Ae(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new we(null);return null!=r.snap?s=s.set(oe(),!0):ct(r.children,o=>{s=s.set(new ce(o),!0)}),ia(t,new Oh(r.path,s,n))}return[]}function Cu(t,e,n){return ia(t,new bs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Wh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&("default"===e._queryIdentifier||yx(o,e))){const l=function(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Ri(t);if("default"===i)for(const[l,u]of t.views.entries())o=o.concat(dx(u,n,r)),cx(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(o=o.concat(dx(l,n,r)),cx(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Ri(t)&&s.push(new(D(jh,"Reference.ts has not been loaded"),jh)(e._repo,e._path)),{removed:s,events:o}}(o,e,n,r);(function(t){return 0===t.views.size})(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=-1!==u.findIndex(h=>h._queryParams.loadsAllData()),d=t.syncPointTree_.findOnPath(s,(h,f)=>Ri(f));if(c&&!d){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const f=function(t){return t.fold((e,n,r)=>{if(n&&Ri(n))return[Hh(n)];{let i=[];return n&&(i=mx(n)),ct(r,(s,o)=>{i=i.concat(o)}),i}})}(h);for(let p=0;p<f.length;++p){const m=f[p],g=m.query,E=wx(t,m);t.listenProvider_.startListening(bu(g),Eu(t,g),E.hashFn,E.onComplete)}}}if(!d&&u.length>0&&!r)if(c){const h=null;t.listenProvider_.stopListening(bu(e),h)}else u.forEach(h=>{const f=t.queryToTagMap.get(qh(h));t.listenProvider_.stopListening(bu(h),f)})}!function(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=qh(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}(t,u)}return a}function Cx(t,e,n,r){const i=SC(t,r);if(null!=i){const s=AC(i),o=s.path,a=s.queryId,l=Ut(o,e);return RC(t,o,new bs(pC(a),l,n))}return[]}function TC(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=Ut(h,i);s=s||Ai(f,p),o=o||Ri(f)});let l,a=t.syncPointTree_.get(i);a?(o=o||Ri(a),s=s||Ai(a,oe())):(a=new px,t.syncPointTree_=t.syncPointTree_.set(i,a)),null!=s?l=!0:(l=!1,s=$.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((f,p)=>{const m=Ai(p,oe());m&&(s=s.updateImmediateChild(f,m))}));const u=yx(a,e);if(!u&&!e._queryParams.loadsAllData()){const h=qh(e);D(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=aQ++;t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let d=function(t,e,n,r,i,s){const o=gx(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),function(t,e){t.eventRegistrations_.push(e)}(o,n),function(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(be,(s,o)=>{r.push(ea(s,o))}),n.isFullyInitialized()&&r.push(zM(n.getNode())),fx(t,r,n.getNode(),e)}(o,n)}(a,e,n,Lh(t.pendingWriteTree_,i),s,l);if(!u&&!o&&!r){const h=_x(a,e);d=d.concat(function(t,e,n){const r=e._path,i=Eu(t,e),s=wx(t,n),o=t.listenProvider_.startListening(bu(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)D(!Ri(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!J(u)&&c&&Ri(c))return[Hh(c).query];{let h=[];return c&&(h=h.concat(mx(c).map(f=>f.query))),ct(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<l.length;++u){const c=l[u];t.listenProvider_.stopListening(bu(c),Eu(t,c))}}return o}(t,e,h))}return d}function Gh(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const u=Ai(a,Ut(o,e));if(u)return u});return nx(i,e,s,n,!0)}function ia(t,e){return Ex(e,t.syncPointTree_,null,Lh(t.pendingWriteTree_,oe()))}function Ex(t,e,n,r){if(J(t.path))return bx(t,e,n,r);{const i=e.get(oe());null==n&&null!=i&&(n=Ai(i,oe()));let s=[];const o=Y(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=ix(r,o);s=s.concat(Ex(a,l,u,c))}return i&&(s=s.concat(DC(i,t,r,n))),s}}function bx(t,e,n,r){const i=e.get(oe());null==n&&null!=i&&(n=Ai(i,oe()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=ix(r,o),c=t.operationForChild(o);c&&(s=s.concat(bx(c,a,l,u)))}),i&&(s=s.concat(DC(i,t,r,n))),s}function wx(t,e){const n=e.query,r=Eu(t,n);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(e)||$.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function(t,e,n){const r=SC(t,n);if(r){const i=AC(r),s=i.path,o=i.queryId,a=Ut(s,e);return RC(t,s,new mu(pC(o),a))}return[]}(t,n._path,r):function(t,e){return ia(t,new mu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);{const s=function(t,e){let n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(i,n);return Wh(t,n,null,s)}}}}function Eu(t,e){const n=qh(e);return t.queryToTagMap.get(n)}function qh(t){return t._path.toString()+"$"+t._queryIdentifier}function SC(t,e){return t.tagToQueryMap.get(e)}function AC(t){const e=t.indexOf("$");return D(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ce(t.substr(0,e))}}function RC(t,e,n){const r=t.syncPointTree_.get(e);return D(r,"Missing sync point for query tag that we're tracking"),DC(r,n,Lh(t.pendingWriteTree_,e),null)}function bu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(D($h,"Reference.ts has not been loaded"),$h)(t._repo,t._path):t}class NC{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new NC(n)}node(){return this.node_}}class MC{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ae(this.path_,e);return new MC(this.syncTree_,n)}node(){return Gh(this.syncTree_,this.path_)}}const Dx=function(t,e,n){return t&&"object"==typeof t?(D(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?vQ(t[".sv"],e,n):"object"==typeof t[".sv"]?CQ(t[".sv"],e):void D(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},vQ=function(t,e,n){if("timestamp"===t)return n.timestamp;D(!1,"Unexpected server value: "+t)},CQ=function(t,e,n){t.hasOwnProperty("increment")||D(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&D(!1,"Unexpected increment value: "+r);const i=e.node();if(D(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},xC=function(t,e,n){return PC(t,new NC(e),n)};function PC(t,e,n){const r=t.getPriority().val(),i=Dx(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=Dx(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Zo(a,Pe(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Zo(i))),o.forEachChild(be,(a,l)=>{const u=PC(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}class OC{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function zh(t,e){let n=e instanceof ce?e:new ce(e),r=t,i=Y(n);for(;null!==i;){const s=Go(r.node.children,i)||{children:{},childCount:0};r=new OC(i,r,s),n=ye(n),i=Y(n)}return r}function Is(t){return t.node.value}function kC(t,e){t.node.value=e,FC(t)}function Tx(t){return t.node.childCount>0}function Qh(t,e){ct(t.node.children,(n,r)=>{e(new OC(n,t,r))})}function Sx(t,e,n,r){n&&!r&&e(t),Qh(t,i=>{Sx(i,e,!0,r)}),n&&r&&e(t)}function wu(t){return new ce(null===t.parent?t.name:wu(t.parent)+"/"+t.name)}function FC(t){null!==t.parent&&function(t,e,n){const r=function(t){return void 0===Is(t)&&!Tx(t)}(n),i=pr(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,FC(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,FC(t))}(t.parent,t.name,t)}const DQ=/[\[\].#$\/\u0000-\u001F\u007F]/,IQ=/[\[\].#$\u0000-\u001F\u007F]/,LC=10485760,Kh=function(t){return"string"==typeof t&&0!==t.length&&!DQ.test(t)},Ax=function(t){return"string"==typeof t&&0!==t.length&&!IQ.test(t)},Du=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!wh(t)||t&&"object"==typeof t&&pr(t,".sv")},vr=function(t,e,n,r){r&&void 0===e||Iu(us(t,"value"),e,n)},Iu=function(t,e,n){const r=n instanceof ce?new Hz(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Cs(r));if("function"==typeof e)throw new Error(t+"contains a function "+Cs(r)+" with contents = "+e.toString());if(wh(e))throw new Error(t+"contains "+e.toString()+" "+Cs(r));if("string"==typeof e&&e.length>LC/3&&ih(e)>LC)throw new Error(t+"contains a string greater than "+LC+" utf8 bytes "+Cs(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(ct(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!Kh(o)))throw new Error(t+" contains an invalid key ("+o+") "+Cs(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ih(e),VM(t)})(r,o),Iu(t,a,r),function(t){const e=t.parts_.pop();t.byteLength_-=ih(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Cs(r)+" in addition to actual children.")}},UC=function(t,e,n,r){if(!(r&&void 0===n||Ax(n)))throw new Error(us(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cr=function(t,e){if(".info"===Y(e))throw new Error(t+" failed = Can't modify data under /.info/")};class RQ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yh(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!Xv(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Mx(t,e,n){Yh(t,n),xx(t,r=>Xv(r,e))}function ln(t,e,n){Yh(t,n),xx(t,r=>In(r,e)||In(e,r))}function xx(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(NQ(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function NQ(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();ys&&ut("event: "+n.toString()),Yo(r)}}}class xQ{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RQ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ph(),this.transactionQueueTree_=new OC,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ox(t){const n=t.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Su(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:Ox(t)})}function kx(t,e,n,r,i){t.dataUpdateCount++;const s=new ce(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=nh(n,u=>Pe(u));o=function(t,e,n,r){const i=SC(t,r);if(i){const s=AC(i),o=s.path,a=s.queryId,l=Ut(o,e),u=we.fromObject(n);return RC(t,o,new na(pC(a),l,u))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=Pe(n);o=Cx(t.serverSyncTree_,s,l,i)}else if(r){const l=nh(n,u=>Pe(u));o=function(t,e,n){const r=we.fromObject(n);return ia(t,new na({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=Pe(n);o=Cu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=oa(t,s)),ln(t.eventQueue_,a,o)}function Fx(t,e){BC(t,"connected",e),!1===e&&function(t){sa(t,"onDisconnectEvents");const e=Su(t),n=Ph();dC(t.onDisconnect_,oe(),(i,s)=>{const o=function(t,e,n,r){return PC(e,new MC(n,t),r)}(i,s,t.serverSyncTree_,e);ta(n,i,o)});let r=[];dC(n,oe(),(i,s)=>{r=r.concat(Cu(t.serverSyncTree_,i,s));const o=WC(t,i);oa(t,o)}),t.onDisconnect_=Ph(),ln(t.eventQueue_,oe(),r)}(t)}function BC(t,e,n){const r=new ce("/.info/"+e),i=Pe(n);t.infoData_.updateSnapshot(r,i);const s=Cu(t.infoSyncTree_,r,i);ln(t.eventQueue_,r,s)}function Jh(t){return t.nextWriteId_++}function jC(t,e,n,r,i){sa(t,"set",{path:e.toString(),value:n,priority:r});const s=Su(t),o=Pe(n,r),a=Gh(t.serverSyncTree_,e),l=xC(o,a,s),u=Jh(t),c=IC(t.serverSyncTree_,e,l,u,!0);Yh(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||Tt("set at "+e+" failed: "+h);const m=Ni(t.serverSyncTree_,u,!p);ln(t.eventQueue_,e,m),function(t,e,n,r){e&&Yo(()=>{if("ok"===n)e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}(0,i,h,f)});const d=WC(t,e);oa(t,d),ln(t.eventQueue_,d,[])}function HC(t,e,n){let r;r=".info"===Y(e._path)?Wh(t.infoSyncTree_,e,n):Wh(t.serverSyncTree_,e,n),Mx(t.eventQueue_,e._path,r)}function sa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ut(n,...e)}function $C(t,e,n){return Gh(t.serverSyncTree_,e,n)||$.EMPTY_NODE}function Zh(t,e=t.transactionQueueTree_){if(e||Xh(t,e),Is(e)){const n=Bx(t,e);D(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function(t,e,n){const r=n.map(u=>u.currentWriteId),i=$C(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];D(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ut(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{sa(t,"transaction put response",{path:l.toString(),status:u});let c=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Ni(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Xh(t,zh(t.transactionQueueTree_,e)),Zh(t,t.transactionQueueTree_),ln(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Yo(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Tt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}oa(t,e)}},o)}(t,wu(e),n)}else Tx(e)&&Qh(e,n=>{Zh(t,n)})}function oa(t,e){const n=Ux(t,e),r=wu(n);return function(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Ut(n,l.path);let d,c=!1;if(D(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)c=!0,d=l.abortReason,i=i.concat(Ni(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)c=!0,d="maxretry",i=i.concat(Ni(t.serverSyncTree_,l.currentWriteId,!0));else{const h=$C(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Iu("transaction failed: Data returned ",f,l.path);let p=Pe(f);"object"==typeof f&&null!=f&&pr(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,E=Su(t),v=xC(p,h,E);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Jh(t),o.splice(o.indexOf(g),1),i=i.concat(IC(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Ni(t.serverSyncTree_,g,!0))}else c=!0,d="nodata",i=i.concat(Ni(t.serverSyncTree_,l.currentWriteId,!0))}ln(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}Xh(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Yo(r[a]);Zh(t,t.transactionQueueTree_)}(t,Bx(t,n),r),r}function Ux(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);null!==n&&void 0===Is(r);)r=zh(r,n),n=Y(e=ye(e));return r}function Bx(t,e){const n=[];return jx(t,e,n),n.sort((r,i)=>r.order-i.order),n}function jx(t,e,n){const r=Is(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Qh(e,i=>{jx(t,i,n)})}function Xh(t,e){const n=Is(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,kC(e,n.length>0?n:void 0)}Qh(e,r=>{Xh(t,r)})}function WC(t,e){const n=wu(Ux(t,e)),r=zh(t.transactionQueueTree_,e);return function(t,e,n){let r=t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{GC(t,i)}),GC(t,r),Sx(r,i=>{GC(t,i)}),n}function GC(t,e){const n=Is(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(D(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(D(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ni(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?kC(e,void 0):n.length=s+1,ln(t.eventQueue_,wu(e),i);for(let o=0;o<r.length;o++)Yo(r[o])}}const qC=function(t,e){const n=QQ(t),r=n.namespace;return"firebase.com"===n.domain&&_r(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&_r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new qv(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new ce(n.pathString)}},QQ=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");-1===c&&(c=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=function(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}(t.substring(c,d)));const h=function(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tt(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},Hx="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",KQ=function(){let t=0;const e=[];return function(n){const r=n===t;let i;t=n;const s=new Array(8);for(i=7;i>=0;i--)s[i]=Hx.charAt(n%64),n=Math.floor(n/64);D(0===n,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)o+=Hx.charAt(e[i]);return D(20===o.length,"nextPushId: Length should be 20."),o}}();class $x{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}}class Wx{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class zC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return D(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class un{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return J(this._path)?null:Zv(this._path)}get ref(){return new Kn(this._repo,this._path)}get _queryIdentifier(){const e=KM(this._queryParams),n=Wv(e);return"{}"===n?"default":n}get _queryObject(){return KM(this._queryParams)}isEqual(e){if(!((e=mt(e))instanceof un))return!1;const n=this._repo===e._repo,r=Xv(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}function xi(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===yr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==wi)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Gr)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===be){if(null!=e&&!Du(e)||null!=n&&!Du(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(D(t.getIndex()instanceof iC||t.getIndex()===sC,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function tf(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Kn extends un{constructor(e,n){super(e,n,new aC,!1)}get parent(){const e=LM(this._path);return null===e?null:new Kn(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ts{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ce(e),r=Yn(this.ref,e);return new Ts(this._node.getChild(n),r,be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Ts(i,Yn(this.ref,r),be)))}hasChild(e){const n=new ce(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function tt(t,e){return(t=mt(t))._checkNotDeleted("ref"),void 0!==e?Yn(t._root,e):t._root}function Yn(t,e){return null===Y((t=mt(t))._path)?(n=e,n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),UC("child","path",n,!1)):UC("child","path",e,!1),new Kn(t._repo,Ae(t._path,e));var n}function nf(t,e){t=mt(t),Cr("push",t._path),vr("push",e,t._path,!0);const n=Ox(t._repo),r=KQ(n),i=Yn(t,r),s=Yn(t,r);let o;return o=null!=e?Ss(s,e).then(()=>s):Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Ss(t,e){t=mt(t),Cr("set",t._path),vr("set",e,t._path,!1);const n=new Ll;return jC(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function ZQ(t){t=mt(t);const e=new zC(()=>{}),n=new Au(e);return function(t,e,n){const r=function(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=Ut(u,n);r=r||Ai(c,d)});let i=t.syncPointTree_.get(n);i?r=r||Ai(i,oe()):(i=new px,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=null!=r,o=s?new Ti(r,!0,!1):null;return function(t){return Fh(t.viewCache_)}(gx(i,e,Lh(t.pendingWriteTree_,e._path),s?o.getNode():$.EMPTY_NODE,s))}(t.serverSyncTree_,e);return null!=r?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Pe(i).withIndex(e._queryParams.getIndex());let o;if(TC(t.serverSyncTree_,e,n,!0),e._queryParams.loadsAllData())o=Cu(t.serverSyncTree_,e._path,s);else{const a=Eu(t.serverSyncTree_,e);o=Cx(t.serverSyncTree_,e._path,s,a)}return ln(t.eventQueue_,e._path,o),Wh(t.serverSyncTree_,e,n,null,!0),s},i=>(sa(t,"get for query "+Ze(e)+" failed: "+i),Promise.reject(new Error(i))))}(t._repo,t,n).then(r=>new Ts(r,new Kn(t._repo,t._path),t._queryParams.getIndex()))}class Au{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,n){const r=n._queryParams.getIndex();return new $x("value",this,new Ts(e.snapshotNode,new Kn(n._repo,n._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Wx(this,e,n):null}matches(e){return e instanceof Au&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class rf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n="children_added"===e?"child_added":e;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Wx(this,e,n):null}createEvent(e,n){D(null!=e.childName,"Child events should have a childName.");const r=Yn(new Kn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new $x(e.type,this,new Ts(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof rf&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function As(t,e,n,r){return function(t,e,n,r,i){let s;if("object"==typeof r&&(s=void 0,i=r),"function"==typeof r&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{HC(t._repo,t,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new zC(n,s||void 0),a="value"===e?new Au(o):new rf(e,o);return function(t,e,n){let r;r=".info"===Y(e._path)?TC(t.infoSyncTree_,e,n):TC(t.serverSyncTree_,e,n),Mx(t.eventQueue_,e._path,r)}(t._repo,t,a),()=>HC(t._repo,t,a)}(t,"value",e,n,r)}class sf{}class Gx extends sf{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){vr("endAt",this._value,e._path,!0);const n=function(t,e,n){const r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}(e._queryParams,this._value,this._key);if(tf(n),xi(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new un(e._repo,e._path,n,e._orderByCalled)}}class qx extends sf{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){vr("startAt",this._value,e._path,!0);const n=function(t,e,n){const r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}(e._queryParams,this._value,this._key);if(tf(n),xi(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new un(e._repo,e._path,n,e._orderByCalled)}}class rK extends sf{constructor(e){super(),this._path=e}_apply(e){!function(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}(e,"orderByChild");const n=new ce(this._path);if(J(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new iC(n),i=function(t,e){const n=t.copy();return n.index_=e,n}(e._queryParams,r);return xi(i),new un(e._repo,e._path,i,!0)}}class lK extends sf{constructor(e,n){super(),this._value=e,this._key=n}_apply(e){if(vr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gx(this._value,this._key)._apply(new qx(this._value,this._key)._apply(e))}}(function(t){D(!jh,"__referenceConstructor has already been defined"),jh=t})(Kn),function(t){D(!$h,"__referenceConstructor has already been defined"),$h=t}(Kn);const QC={};function fK(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||_r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,u,o=qC(s,i),a=o.repoInfo;"undefined"!=typeof process&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=qC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new lu(lu.OWNER):new gz(t.name,t.options,e);(function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Kh(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ax(t)}(n))throw new Error(us(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),J(o.path)||_r("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(t,e,n,r){let i=QC[e.name];i||(i={},QC[e.name]=i);let s=i[t.toURLString()];return s&&_r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new xQ(t,false,n,r),i[t.toURLString()]=s,s}(a,t,c,new pz(t.name,n));return new _K(d,t)}class _K{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,e,n){if(t.stats_=Kv(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new xh(t.repoInfo_,(r,i,s,o)=>{kx(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Fx(t,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Es(t.repoInfo_,e,(r,i,s,o)=>{kx(t,r,i,s,o)},r=>{Fx(t,r)},r=>{!function(t,e){ct(e,(n,r)=>{BC(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function(t,e){const n=t.toString();return Qv[n]||(Qv[n]=e()),Qv[n]}(t.repoInfo_,()=>new y9(t.stats_,t.server_)),t.infoData_=new f9,t.infoSyncTree_=new vx({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Cu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),BC(t,"connected",!1),t.serverSyncTree_=new vx({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ln(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kn(this._repo,oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,e){const n=QC[e];(!n||n[t.key]!==t)&&_r(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&_r("Cannot call "+e+" on a deleted database.")}}function KC(t=jR(),e){const n=ah(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=(t=>{const e=RR("database");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();r&&function(t,e,n,r={}){(t=mt(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&_r("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&_r('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new lu(lu.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zd(JSON.stringify({alg:"none",type:"JWT"})),Zd(JSON.stringify(o)),""].join(".")}(r.mockUserToken,t.app.options.projectId);s=new lu(o)}!function(t,e,n,r){t.repoInfo_=new qv(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Es.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Es.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},jv="9.18.0",qo(new cs("database",(e,{instanceIdentifier:n})=>fK(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),vi(XN,"0.14.4",void 0),vi(XN,"0.14.4","esm2017");const Yx=Bv(BR({apiKey:"AIzaSyALtLhcdoNOMxzDKwUmZCR1QZRjE0mdRmA",authDomain:"nomad-33e4d.firebaseapp.com",projectId:"nomad-33e4d",storageBucket:"nomad-33e4d.appspot.com",messagingSenderId:"834843844929",appId:"1:834843844929:web:44152ea3396aa75d9a41c0",measurementId:"G-HHMJBBFTR3",databaseURL:"https://nomad-33e4d-default-rtdb.firebaseio.com/"}));let aa=(()=>{class t{constructor(n){this.router=n,this.userUidSubject=new pt(""),this.userUid=this.userUidSubject.asObservable(),this.isLoading=!1,this.isLoggedin=!1,this.errorMessage="",this.updateUser()}signup(n,r,i){var s=this;return C(function*(){(function(t,e,n){return Gy.apply(this,arguments)})(Yx,n,r).then(o=>{s.isLoggedin=!0,s.writeUserData(o.user.uid,i),s.router.navigate(["/dashboard"]),console.log(o.user),s.errorMessage=""}).catch(o=>{s.errorMessage=o.message})})()}signin(n,r){var i=this;return C(function*(){(function(t,e,n){return function(t,e){return Py.apply(this,arguments)}(mt(t),wN.credential(e,n))})(Yx,n,r).then(s=>{i.getUserType(s.user.uid),i.router.navigate(["/dashboard"]),console.log(s.user),i.errorMessage=""}).catch(s=>{i.errorMessage=s.message})})()}logout(){(function(t){return mt(t).signOut()})(Bv()).then(()=>{console.log("Sign-out successful."),location.reload()}).catch(r=>{console.log("An error")})}writeUserData(n,r){Ss(tt(KC(),"userType/"+n),{isAdmin:r})}getUserType(n){return ZQ(Yn(tt(KC()),`userType/${n}`)).then(i=>{if(i.exists())return i.val();console.log("No data available")}).catch(i=>{console.error(i)})}updateUser(){!function(t,e,n,r){mt(t).onAuthStateChanged(e,void 0,void 0)}(Bv(),r=>{r?(this.userUidSubject.next(r),this.isLoggedin=!0,this.displayName=r.uid,this.imageURL=this.imageURL,this.email=r.email,this.userUidSubject.next(r),this.getUserType(r.uid).then(i=>{this.isAdmin=i.isAdmin})):(this.isAdmin=!1,this.isLoggedin=!1,this.displayName="",this.imageURL="",this.email="")})}}return t.\u0275fac=function(n){return new(n||t)(S(Je))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Jx=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Rt({type:t,selectors:[["app-spinner"]],decls:2,vars:0,consts:[[1,"d-flex","align-items-center",2,"justify-content","center","margin-top","auto","margin-bottom","auto"],["role","status","aria-hidden","true",1,"spinner-border","ml-auto"]],template:function(n,r){1&n&&(_(0,"div",0),q(1,"div",1),y())},styles:[""]}),t})();function wK(t,e){1&t&&(_(0,"div"),_(1,"div",16),q(2,"app-spinner"),y(),y())}function DK(t,e){if(1&t&&(_(0,"div",17),_(1,"p"),N(2),y(),y()),2&t){const n=yn();se(2),on(n.authService.errorMessage)}}function IK(t,e){1&t&&(_(0,"div"),q(1,"app-spinner"),y())}let TK=(()=>{class t{constructor(n){this.authService=n,this.isLoading=!1,this.errorMessage=""}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(b(aa))},t.\u0275cmp=Rt({type:t,selectors:[["app-signin"]],decls:30,vars:4,consts:[[1,"profile-container"],[4,"ngIf"],[1,"authBlock"],["action","","role","form"],["loginForm","ngForm"],[1,"formGroup"],["type","text","ngModel","","name","username","placeholder","Username","required","",1,"form-control"],["userName",""],["type","password","ngModel","","name","password","placeholder","Password","required","",1,"form-control"],["password",""],["type","button",1,"btn","btn-primary","btn-block",3,"disabled","click"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"forgotPassword"],["routerLink","/forgot-password"],[1,"redirectToLogin"],["routerLink","/signup",1,"redirect"],[1,"placeholder"],["role","alert",1,"alert","alert-danger"]],template:function(n,r){if(1&n){const i=Fn();_(0,"div",0),Ot(1,wK,3,0,"div",1),_(2,"div",2),_(3,"h3"),N(4,"Sign in"),y(),_(5,"form",3,4),_(7,"div",5),_(8,"label"),N(9,"Email"),y(),q(10,"input",6,7),y(),_(12,"div",5),_(13,"label"),N(14,"Password"),y(),q(15,"input",8,9),y(),_(17,"div",5),_(18,"button",10),_e("click",function(){Xt(i);const o=sn(11),a=sn(16);return r.authService.signin(o.value,a.value)}),N(19,"Login"),y(),Ot(20,DK,3,1,"div",11),y(),_(21,"div",12),_(22,"span",13),N(23,"Forgot Password?"),y(),y(),_(24,"div",14),_(25,"span"),N(26,"Not registered yet?"),_(27,"span",15),N(28," Register"),y(),y(),y(),Ot(29,IK,2,0,"div",1),y(),y(),y()}if(2&n){const i=sn(6);se(1),rt("ngIf",r.authService.isLoading),se(17),rt("disabled",!i.valid),se(2),rt("ngIf",r.authService.errorMessage),se(9),rt("ngIf",r.isLoading)}},directives:[vd,Fo,Po,hi,ns,El,ko,rs,Ho,Jx],styles:[""]}),t})();function SK(t,e){1&t&&(_(0,"div"),_(1,"div",15),q(2,"app-spinner"),y(),y())}function AK(t,e){if(1&t&&(_(0,"div",16),_(1,"p"),N(2),y(),q(3,"button",17),y()),2&t){const n=yn();se(2),on(n.authService.errorMessage)}}let RK=(()=>{class t{constructor(n){this.authService=n,this.isLoading=!1,this.errorMessage="",this.admin=!1}ngOnInit(){}isAdmin(){this.admin=!this.admin,console.log(this.admin)}}return t.\u0275fac=function(n){return new(n||t)(b(aa))},t.\u0275cmp=Rt({type:t,selectors:[["app-signup"]],decls:29,vars:4,consts:[[1,"profile-container"],[4,"ngIf"],[1,"authBlock"],["action","","role","form"],["registerForm","ngForm"],[1,"formGroup"],["placeholder","Email","type","email","ngModel","","name","username","required","",1,"form-control"],["userEmail",""],["type","password","placeholder","Password","ngModel","","name","password","required","",1,"form-control"],["userPwd",""],["type","button","value","isAdmin",1,"btn","btn-block","btn-primary","mb-2",3,"click"],["type","button","value","Sign Up",1,"btn","btn-block","btn-primary",3,"disabled","click"],["class","alert alert-warning alert-dismissible fade show m-2","role","alert",4,"ngIf"],[1,"redirectToLogin"],["routerLink","/signin",1,"redirect"],[1,"placeholder"],["role","alert",1,"alert","alert-warning","alert-dismissible","fade","show","m-2"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"]],template:function(n,r){if(1&n){const i=Fn();_(0,"div",0),Ot(1,SK,3,0,"div",1),_(2,"div",2),_(3,"h3"),N(4,"Register"),y(),_(5,"form",3,4),_(7,"div",5),_(8,"label"),N(9,"Email"),y(),q(10,"input",6,7),y(),_(12,"div",5),_(13,"label"),N(14,"Password"),y(),q(15,"input",8,9),y(),_(17,"input",10),_e("click",function(){return r.isAdmin()}),y(),_(18,"span"),_(19,"p"),N(20),y(),y(),_(21,"div",5),_(22,"input",11),_e("click",function(){Xt(i);const o=sn(11),a=sn(16);return r.authService.signup(o.value,a.value,r.admin)}),y(),Ot(23,AK,4,1,"div",12),_(24,"div",13),_(25,"span"),N(26,"Already have an account? "),_(27,"span",14),N(28,"Log In"),y(),y(),y(),y(),y(),y(),y()}if(2&n){const i=sn(6);se(1),rt("ngIf",r.authService.isLoading),se(19),on(r.admin),se(2),rt("disabled",!i.valid),se(1),rt("ngIf",r.authService.errorMessage)}},directives:[vd,Fo,Po,hi,ns,El,ko,rs,Ho,Jx],styles:[""]}),t})(),Nu=(()=>{class t{constructor(n,r){this.authService=n,this.router=r,this.db=KC(),this.categorySource=new pt("Category"),this.categoriesSource=new pt([]),this.productSource=new pt("Product"),this.productsSource=new pt([]),this.cartSource=new pt(""),this.gottenCategory=this.categorySource.asObservable(),this.categories=this.categoriesSource.asObservable(),this.gottenProduct=this.productSource.asObservable(),this.products=this.productsSource.asObservable(),this.gottenCart=this.cartSource.asObservable(),this.authService.userUidSubject.subscribe(i=>this.userUid=i.uid)}createCategory(n,r){const i=nf(Yn(tt(this.db),"categories")).key;Ss(tt(this.db,"categories/"+i),{category:n,description:r}).then(s=>{console.log(s)}).catch(s=>{this.errorMessage=s.message})}getCategory(n){return As(tt(this.db,"categories/"+n),i=>{this.categorySource.next(i.val())}),this.categorySource}getAllCategories(){var n;return As(tt(this.db,"categories/"),i=>{n=this.snapshotToArray(i),this.categoriesSource.next(n)}),this.categoriesSource}createProduct(n,r,i,s,o,a){this.product={key:"",product:n,quantity:r,imageUrl:i,description:s,category:o,price:a},JSON.parse(JSON.stringify(this.product));const l=nf(Yn(tt(this.db),"products")).key;Ss(tt(this.db,"products/"+l),this.product).then(u=>{this.alertMessage="Product added successfully"}).catch(u=>{this.errorMessage="Error: "+u.message}),this.router.navigate(["/dashboard"])}getProductbyID(n){return As(tt(this.db,"products/"+n),i=>{this.productSource.next(i.val())}),this.productSource}getAllProducts(){var n;return As(tt(this.db,"products/"),i=>{n=this.snapshotToArray(i),this.productsSource.next(n)}),this.productsSource}getProductsByCategory(n){var r;const i=function(t,...e){let n=mt(t);for(const r of e)n=r._apply(n);return n}(tt(this.db,"products/"),function(t){return UC("orderByChild","path",t,!1),new rK(t)}("category"),function(t,e){return function(t,e,n,r){if(!(r&&void 0===n||Kh(n)))throw new Error(us(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}("equalTo","key",e,!0),new lK(t,e)}(n));return As(i,s=>{r=this.snapshotToArray(s),this.productsSource.next(r)}),this.categoriesSource}createCart(n){const r=nf(Yn(tt(this.db),"cart")).key;Ss(tt(this.db,"cart/"+r),n).then(i=>{this.alertMessage="Cart created successfully",console.log(this.alertMessage+i)}).catch(i=>{this.errorMessage="Error: "+i.message,console.log(this.errorMessage)}),this.router.navigate(["/dashboard"])}getProductsFromCart(){var n;return As(tt(this.db,"cart/"+this.userUid),i=>{n=this.snapshotToArray(i),this.productsSource.next(n)}),this.productsSource}addProductToCart(n,r){const i=nf(Yn(tt(this.db),"cart")).key;Ss(tt(this.db,"cart/"+this.userUid+"/"+i),{key:r,product:n.product,quantity:n.quantity,imageUrl:n.imageUrl,description:n.description,category:n.category,price:n.price}).then(s=>{this.alertMessage="Item add to cart successfully",console.log(this.alertMessage+s),window}).catch(s=>{this.errorMessage="Error: "+s.message,console.log(this.errorMessage)}),this.router.navigate(["/dashboard"])}removeProductFromCart(n){(function(t){return Cr("remove",t._path),Ss(t,null)})(tt(this.db,"cart/"+this.userUid+"/"+n)).then(()=>{console.log("Removed successfully")})}editQuantiy(n){tt(this.db,"cart/"+this.userUid+"/"+n)}snapshotToArray(n){var r=[];return n.forEach(function(i){var s=i.val();s.key=i.key,r.push(s)}),r}}return t.\u0275fac=function(n){return new(n||t)(S(aa),S(Je))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function NK(t,e){if(1&t){const n=Fn();_(0,"button",30),_e("click",function(){return Xt(n),yn().login()}),N(1,"Login"),y()}}function MK(t,e){if(1&t){const n=Fn();_(0,"button",30),_e("click",function(){return Xt(n),yn().logout()}),N(1,"Logout"),y()}}function xK(t,e){if(1&t){const n=Fn();_(0,"button",31),_e("click",function(){return Xt(n),yn().viewCart()}),N(1," Cart "),_(2,"span",32),N(3," 0 "),y(),y()}}function PK(t,e){if(1&t){const n=Fn();_(0,"button",31),_e("click",function(){return Xt(n),yn().addProduct()}),N(1," Add product "),y()}}function OK(t,e){if(1&t&&(_(0,"div"),q(1,"img",33),_(2,"small"),N(3),y(),y()),2&t){const n=yn();se(3),on(n.email)}}let Mu=(()=>{class t{constructor(n,r,i){this.authService=n,this.router=r,this.activatedRoute=i,this.isAdmin=!1,this.cartItems=0,i.params.subscribe(s=>{})}ngOnInit(){this.getUser()}getUser(){var n=this;return C(function*(){n.authSubscription=n.authService.userUid.subscribe(r=>{r?(n.isLoggedIn=!0,n.displayName=r.uid,n.imageURL=n.imageURL,n.email=r.email,n.authService.getUserType(r.uid).then(i=>{n.isAdmin=i.isAdmin,n.userUid=r})):(n.isAdmin=!1,n.isLoggedIn=!1)})})()}logout(){this.authService.logout()}login(){this.router.navigate(["/signin"]),console.log("Test")}addProduct(){this.router.navigate(["/add-product"]),console.log("/add-product")}viewCart(){this.router.navigate(["/cart"]).then(()=>(window,!1))}ngOnDestroy(){this.authService&&this.authSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(b(aa),b(Je),b(gi))},t.\u0275cmp=Rt({type:t,selectors:[["app-navbar"]],inputs:{cart:"cart"},decls:55,vars:5,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse",2,"background-color","#f5f3f6"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],[1,"nav-link","disabled"],[2,"width","20px"],["type","button","class","btn btn-outline-success",3,"click",4,"ngIf"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],[4,"ngIf"],[1,"jumbotron"],[1,"text-center"],[1,"blockquote"],[1,"display-1"],[1,"blockquote-footer"],["title","Source Title"],["role","search",1,"d-flex"],["type","search","placeholder","Enter product, e.g. Flight","aria-label","Search",1,"form-control","me-2"],["type","search","placeholder","Enter category, e.g. Accomodation","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-primary"],["type","button",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"badge","badge-light"],["src","https://raw.githubusercontent.com/twbs/icons/main/icons/person.svg",1,"avatar","avatar-16","bg-light","rounded-circle","text-white","p-3"]],template:function(n,r){1&n&&(_(0,"nav",0),_(1,"div",1),_(2,"a",2),N(3,"Mara Nomad"),y(),_(4,"button",3),q(5,"span",4),y(),_(6,"div",5),_(7,"ul",6),_(8,"li",7),_(9,"a",8),N(10,"Home"),y(),y(),_(11,"li",7),_(12,"a",9),N(13,"Link"),y(),y(),_(14,"li",10),_(15,"a",11),N(16," Dropdown "),y(),_(17,"ul",12),_(18,"li"),_(19,"a",13),N(20,"Action"),y(),y(),_(21,"li"),_(22,"a",13),N(23,"Another action"),y(),y(),_(24,"li"),q(25,"hr",14),y(),_(26,"li"),_(27,"a",13),N(28,"Something else here"),y(),y(),y(),y(),_(29,"li",7),_(30,"a",15),N(31,"Disabled"),y(),y(),y(),q(32,"div",16),Ot(33,NK,2,0,"button",17),q(34,"div",16),Ot(35,MK,2,0,"button",17),q(36,"div",16),Ot(37,xK,4,0,"button",18),q(38,"div",16),Ot(39,PK,2,0,"button",18),Ot(40,OK,4,1,"div",19),y(),y(),y(),_(41,"div",20),_(42,"figure",21),_(43,"blockquote",22),_(44,"h1",23),N(45,"Adventure is worthwhile"),y(),y(),_(46,"figcaption",24),_(47,"cite",25),N(48,"Aesop"),y(),y(),_(49,"form",26),q(50,"input",27),q(51,"input",28),_(52,"button",29),N(53,"Search"),y(),y(),y(),y(),q(54,"router-outlet")),2&n&&(se(33),rt("ngIf",!r.isLoggedIn),se(2),rt("ngIf",r.isLoggedIn),se(2),rt("ngIf",r.isLoggedIn),se(2),rt("ngIf",r.isAdmin),se(1),rt("ngIf",r.isLoggedIn))},directives:[vd,Fo,Po,hi,Jd],styles:[""]}),t})();function kK(t,e){if(1&t){const n=Fn();_(0,"div",2),_(1,"div",3),q(2,"img",4),_(3,"div",5),_(4,"h5",6,7),N(6),y(),_(7,"p",8),N(8),y(),_(9,"button",9),_e("click",function(){const s=Xt(n).$implicit;return yn().addProductToCart(s.key)}),N(10,"Add to cart"),y(),y(),y(),y()}if(2&t){const n=e.$implicit;se(2),$a("src",n.imageUrl,Pa),se(4),on(n.product),se(2),on(n.description)}}let FK=(()=>{class t{constructor(n){this.productService=n}ngOnInit(){this.getProducts()}getProducts(){this.isLoading=!0,this.productSubscription=this.productService.getAllProducts().subscribe(n=>{this.products=n}),this.isLoading=!0}addProductToCart(n){this.productService.getProductbyID(n).subscribe(r=>this.product=r),this.productService.addProductToCart(this.product,n),this.alertMessage=this.productService.alertMessage}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.productSubscription&&this.productSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(b(Nu))},t.\u0275cmp=Rt({type:t,selectors:[["app-products"]],decls:4,vars:1,consts:[[1,"display-1"],["class","d-flex flowx-row justify-content-center",4,"ngFor","ngForOf"],[1,"d-flex","flowx-row","justify-content-center"],[1,"card","mt-4","p-2",2,"width","18rem"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],["buttonProduct",""],[1,"card-text"],[1,"btn","btn-primary",3,"click"]],template:function(n,r){1&n&&(q(0,"app-navbar"),_(1,"h1",0),N(2,"Products"),y(),Ot(3,kK,11,3,"div",1)),2&n&&(se(3),rt("ngForOf",r.products))},directives:[Mu,_l],styles:[""]}),t})(),LK=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Rt({type:t,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(n,r){1&n&&q(0,"app-products")},directives:[FK],styles:[""]}),t})();function VK(t,e){if(1&t&&(_(0,"option",25),N(1),y()),2&t){const n=e.$implicit;$a("value",n.key),se(1),on(n.category)}}let UK=(()=>{class t{constructor(n){this.productService=n}ngOnInit(){this.getCategories()}createProduct(n,r,i,s,o,a){this.productService.createProduct(n,r,s,i,o,a)}getCategories(){this.productService.getAllCategories().subscribe(n=>{this.categories=n})}}return t.\u0275fac=function(n){return new(n||t)(b(Nu))},t.\u0275cmp=Rt({type:t,selectors:[["app-add-product"]],decls:44,vars:1,consts:[[1,"container"],["type","button","routerLink","/add-category",1,"btn","btn-primary"],[1,"row"],[1,"col"],[1,"mb-3"],["for","productName",1,"form-label"],["type","text","id","productName","placeholder","productName","ngModel","","name","category","required","",1,"form-control"],["productName",""],["for","quantity",1,"form-label"],["type","number","id","quantity","ngModel","","name","quantity","required","",1,"form-control"],["quantity",""],["for","price",1,"form-label"],["type","number","id","price","ngModel","","name","price","required","",1,"form-control"],["price",""],["for","category",1,"form-label"],["aria-label","Default select example","name","selectedFacilityId","ng-model","selectedFacilityId",1,"form-select"],["category",""],[3,"value",4,"ngFor","ngForOf"],["for","imageUrl",1,"form-label"],["type","text","id","imageUrl","placeholder","Image URL","ngModel","","name","imageUrl","required","",1,"form-control"],["imageUrl",""],["for","exampleFormControlTextarea1",1,"form-label"],["type","text","id","exampleFormControlTextarea1","rows","3","placeholder","A short description","ngModel","","name","description","required","",1,"form-control"],["description",""],["type","btn",1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(n,r){if(1&n){const i=Fn();q(0,"app-navbar"),_(1,"div",0),q(2,"hr"),_(3,"button",1),N(4,"Add category"),y(),_(5,"h1"),N(6,"Add products"),y(),q(7,"hr"),_(8,"div",2),_(9,"div",3),_(10,"form"),_(11,"div",4),_(12,"label",5),N(13,"Product name"),y(),q(14,"input",6,7),y(),_(16,"div",4),_(17,"label",8),N(18,"Quantity"),y(),q(19,"input",9,10),y(),_(21,"div",4),_(22,"label",11),N(23,"Price"),y(),q(24,"input",12,13),y(),_(26,"div",4),_(27,"label",14),N(28,"Category"),y(),_(29,"select",15,16),Ot(31,VK,2,2,"option",17),y(),y(),_(32,"div",4),_(33,"label",18),N(34,"Image url"),y(),q(35,"input",19,20),y(),_(37,"div",4),_(38,"label",21),N(39,"Description"),y(),q(40,"textarea",22,23),y(),_(42,"button",24),_e("click",function(){Xt(i);const o=sn(15),a=sn(41),l=sn(36),u=sn(30);return r.createProduct(o.value,4,a.value,l.value,u.value,3e3)}),N(43,"Add product"),y(),y(),y(),y(),y()}2&n&&(se(31),rt("ngForOf",r.categories))},directives:[Mu,Ho,Fo,Po,hi,ns,El,ko,rs,Qm,_l,a0,u0],styles:[""]}),t})(),BK=(()=>{class t{constructor(n,r){this.auth=n,this.router=r,this.isAdmin=!1}canActivate(n,r){return this.isAdmin=this.auth.isAdmin,this.isAdmin?(console.log("Is logged in",this.isAdmin),!0):(console.log("Is logged in",this.isAdmin),this.router.navigate(["/dashboard"]),!0)}}return t.\u0275fac=function(n){return new(n||t)(S(aa),S(Je))},t.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function jK(t,e){if(1&t&&(_(0,"tr"),_(1,"td"),N(2),y(),_(3,"td"),N(4),y(),y()),2&t){const n=e.$implicit;se(2),_o(" ",n.category," "),se(2),_o(" ",n.description," ")}}let HK=(()=>{class t{constructor(n){this.productService=n,this.categories=[]}ngOnInit(){this.getAllCategories()}getAllCategories(){this.productService.getAllCategories().subscribe(n=>{this.categories=n})}}return t.\u0275fac=function(n){return new(n||t)(b(Nu))},t.\u0275cmp=Rt({type:t,selectors:[["app-category"]],decls:9,vars:1,consts:[[1,"table"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(_(0,"div"),_(1,"table",0),_(2,"thead"),_(3,"tr"),_(4,"th",1),N(5,"Category"),y(),_(6,"th",1),N(7,"Description"),y(),y(),y(),Ot(8,jK,5,2,"tr",2),y(),y()),2&n&&(se(8),rt("ngForOf",r.categories))},directives:[_l],styles:[""]}),t})(),$K=(()=>{class t{constructor(n){this.productService=n}ngOnInit(){}addCategory(n,r){this.productService.createCategory(n,r)}}return t.\u0275fac=function(n){return new(n||t)(b(Nu))},t.\u0275cmp=Rt({type:t,selectors:[["app-add-category"]],decls:23,vars:0,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1","placeholder","Category","ngModel","","name","category","required","",1,"form-control"],["category",""],["for","exampleFormControlTextarea1",1,"form-label"],["type","text","id","exampleFormControlTextarea1","rows","3","placeholder","A short description","ngModel","","name","description","required","",1,"form-control"],["description",""],["type","btn",1,"btn","btn-primary",3,"click"]],template:function(n,r){if(1&n){const i=Fn();q(0,"app-navbar"),_(1,"div",0),q(2,"hr"),_(3,"h1"),N(4,"Add category"),y(),q(5,"hr"),_(6,"div",1),_(7,"div",2),_(8,"form"),_(9,"div",3),_(10,"label",4),N(11,"Category"),y(),q(12,"input",5,6),y(),_(14,"div",3),_(15,"label",7),N(16,"Description"),y(),q(17,"textarea",8,9),y(),_(19,"button",10),_e("click",function(){Xt(i);const o=sn(13),a=sn(18);return r.addCategory(o.value,a.value)}),N(20,"Add category"),y(),y(),y(),_(21,"div",2),q(22,"app-category"),y(),y(),y()}},directives:[Mu,Fo,Po,hi,ns,El,ko,rs,HK],styles:[""]}),t})();function WK(t,e){if(1&t){const n=Fn();_(0,"tr"),_(1,"td",7),_(2,"div",8),q(3,"img",9),y(),y(),_(4,"td",7),_(5,"div",10),_(6,"h3",11),N(7),y(),_(8,"p",12),N(9),y(),_(10,"p",12),N(11),y(),y(),y(),_(12,"td",7),N(13),y(),_(14,"td",7),N(15),_(16,"button",13),_e("click",function(){const s=Xt(n).$implicit;return yn().editQuantity(s.key)}),N(17,"+"),y(),_(18,"button",13),_e("click",function(){const s=Xt(n).$implicit;return yn().editQuantity(s.key)}),N(19,"-"),y(),y(),_(20,"td",7),_(21,"button",14),_e("click",function(){const s=Xt(n).$implicit;return yn().removeProductFromCart(s.key)}),N(22,"Remove from cart"),y(),y(),y()}if(2&t){const n=e.$implicit;se(3),$a("src",n.imageUrl,Pa),se(4),on(n.product),se(2),on(n.category),se(2),on(n.description),se(2),on(n.price),se(2),_o("",n.quantity," ")}}const GK=[{path:"dashboard",component:LK},{path:"signup",component:RK},{path:"signin",component:TK},{path:"add-product",component:UK,canActivate:[BK]},{path:"add-category",component:$K},{path:"cart",component:(()=>{class t{constructor(n,r,i,s){this.productService=n,this.authService=r,this.router=i,this.activatedRoute=s,s.params.subscribe(o=>{})}ngOnInit(){this.getProductsFromCart()}getProductsFromCart(){var n=this;return C(function*(){n.productService.getProductsFromCart().subscribe(r=>{console.log("Cart -> ",r),n.cart=r})})()}addProductsToCart(){this.productService.getProductsFromCart().subscribe(n=>{this.cart=n})}removeProductFromCart(n){this.productService.removeProductFromCart(n)}editQuantity(n){this.productService.editQuantiy(n)}checkOut(){this.router.navigate(["/checkout"]).then(()=>(window,!1))}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe(),this.productSubscription&&this.productSubscription.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(b(Nu),b(aa),b(Je),b(gi))},t.\u0275cmp=Rt({type:t,selectors:[["app-cart"]],decls:23,vars:1,consts:[[1,"container"],[1,"display-5","mt-4"],[1,"d-flex","flowx-row","justify-content-center"],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"col-md-2"],[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-outline-primary","m-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"]],template:function(n,r){1&n&&(q(0,"app-navbar"),_(1,"div",0),_(2,"h1",1),N(3,"Cart"),y(),_(4,"div",2),_(5,"div"),_(6,"table",3),_(7,"thead"),_(8,"tr"),_(9,"th",4),N(10,"Photo"),y(),_(11,"th",4),N(12,"Description"),y(),_(13,"th",4),N(14,"Cost"),y(),_(15,"th",4),N(16,"Pax"),y(),_(17,"th",4),N(18,"x"),y(),y(),y(),_(19,"tbody"),Ot(20,WK,23,6,"tr",5),y(),y(),_(21,"button",6),_e("click",function(){return r.checkOut()}),N(22,"Checkout"),y(),y(),y(),y()),2&n&&(se(20),rt("ngForOf",r.cart))},directives:[Mu,_l],styles:[""]}),t})()},{path:"checkout",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Rt({type:t,selectors:[["app-checkout"]],decls:4,vars:0,consts:[[1,"container"],[1,"mt-4"]],template:function(n,r){1&n&&(q(0,"app-navbar"),_(1,"div",0),_(2,"h1",1),N(3,"Checkout"),y(),y())},directives:[Mu],styles:[""]}),t})()},{path:"",redirectTo:"dashboard",pathMatch:"full"}];let qK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=An({type:t}),t.\u0275inj=Kt({imports:[[D_.forRoot(GK)],D_]}),t})(),zK=(()=>{class t{constructor(){this.title="nomad"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Rt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&q(0,"router-outlet")},directives:[Jd],styles:[""]}),t})(),QK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=An({type:t,bootstrap:[zK]}),t.\u0275inj=Kt({providers:[],imports:[[J$,qK,QW,KW,sA,D_]]}),t})();(function(){if(lS)throw new Error("Cannot enable prod mode after platform setup.");aS=!1})(),K$().bootstrapModule(QK).catch(t=>console.error(t))}},St=>{St(St.s=11)}]);